# Лабораторная работа №2
Цель данной работы заключается в создании двух исполняемых файлов, одного в формате .sh для Unix-подобных систем и другого в формате .bat для Windows.

## Условие (Вариант 57) :
<img width="1169" alt="Снимок экрана 2023-10-23 в 22 28 09" src="https://github.com/iis-32170x/RPIIS/assets/105926921/0b013cef-a278-418d-a142-708c35c3cd9a">

## Описание алгоритма, пример запуска и выполнения программы ([_.bat_](https://github.com/iis-32170x/RPIIS/blob/92e1ce6942d98127061034341dc4bab1287abfa4/name.bat) файл) :

<img width="1169" alt="Снимок экрана 2023-10-23 в 22 41 07" src="https://github.com/iis-32170x/RPIIS/assets/105926921/0eb716cf-6318-4685-8053-dc8aa8df5e26">

```shell
@echo off
setlocal enabledelayedexpansion

if "%~2"=="" (
    echo Usage: %0 ^<directory_path^> ^<letter^>
    exit /b 1
)

set "directory_path=%~1"
set "letter=%~2"

if not exist "%directory_path%" (
    echo This folder does not exist
    exit /b 1
)

for /r "%directory_path%" %%f in (*.txt) do (
    findstr /i "\<[a-zA-Z]*%letter%\>" "%%f" >> result.txt
)

echo Words ending with '%letter%' in '*.txt' files have been saved in 'result.txt'
```

### Алгоритм

* *На вход приходит два аргумента: путь к директории в которой будем выполнять поиск и буква латинского алфавита.*

* *Проверка количества переданных аргументов. Если количество аргументов не равно 2, скрипт выводит сообщение о правильном использовании и завершает работу с кодом возврата 1.*

* *Проверка существования указанной директории. Если директория не существует, скрипт выводит сообщение об ошибке и завершает работу с кодом возврата 1.*

* *Используя цикл **_for /r_**, скрипт проходит через все файлы с расширением ".txt"**_for /r_** в указанной директории и её поддиректориях.*

* *Для каждого файла, скрипт использует **_findstr_** для поиска строк, содержащих слова, оканчивающиеся на указанную букву. Результаты поиска добавляются в файл **_"result.txt"_** с помощью оператора **_>>_**, чтобы сохранить результаты в файле.*

* *По завершению поиска, скрипт выводит сообщение о завершении выполнения операции.*

### Переменные

* **_directory_path_** -  переменная, которая хранит путь к директории, переданный первым аргументом скрипту.

* **_letter_** - переменная, которая хранит букву, переданную вторым аргументом скрипту.

* **_%%f_** - переменная, используемая в цикле for /r для представления текущего файла в директории и её поддиректориях.

* **_%0_** - встроенная переменная, хранящая имя исполняемого файла скрипта.

* **_%~1_** - встроенная переменная, представляющая первый аргумент скрипта.

* **_%~2_** - встроенная переменная, представляющая второй аргумент скрипта.

### Методы и комманды

* **_@echo off_** - команда, отключающая вывод команд в командной строке.
* **_setlocal enabledelayedexpansion_** - команда, включающая отложенное разрешение переменных.
* **_if "%~2"==""_** - условная команда, сравнивающая второй аргумент (букву) с пустой строкой.
* **_echo_** - команда для вывода текста в командной строке.
* **_exit /b 1_** - команда для завершения работы скрипта с кодом возврата 1.
* **_set "variable=value_** - команда для установки значения переменной.
* **_if not exist "%directory_path%_** - условная команда, проверяющая существование указанной директории.
* **_for /r_** - команда для выполнения команд в цикле для каждого файла в указанной директории и её поддиректориях.
* **_findstr /i_** - команда для поиска текстовых данных в файлах с использованием регулярных выражений.
* **_>>_** - оператор для добавления вывода в конец файла (результаты поиска добавляются в файл "result.txt").
* **_%0, %~1, %~2_** - переменные, представляющие имя исполняемого файла скрипта и его аргументы.
* **_%%f_** - переменная, используемая в цикле for для представления текущего файла.

### Пример запуска
1. Запустим командную строку ***cmd*** и переходим в нужную директорию с помощью консольной команды **_cd_**.

<img width="700" alt="Снимок экрана 2023-10-24 в 09 37 30" src="https://github.com/iis-32170x/RPIIS/assets/105926921/ef806e46-939d-4fd2-a703-93f6687adf5e">

2. Запустим файл **_.bat_**, для это пропишем в командной строке.

    ```файл.bat <directory_path> <letter>```

<img width="700" alt="Снимок экрана 2023-10-24 в 09 48 23" src="https://github.com/iis-32170x/RPIIS/assets/105926921/4c0e3071-aede-41e5-89fe-55bac4e4ae25">

3. Нажимаем Enter и видим что программа выполнена.

<img width="700" alt="Снимок экрана 2023-10-24 в 09 50 26" src="https://github.com/iis-32170x/RPIIS/assets/105926921/150002c4-2760-40da-8be1-58584638fefa">

4. В папке с файлом **_bat_** появился файл **_result.txt_**

<img width="700" alt="Снимок экрана 2023-10-24 в 09 15 03" src="https://github.com/iis-32170x/RPIIS/assets/105926921/2915268c-b9dc-4683-b9c8-e26a142b886a">

5. Содержимое файла.

<img width="700" alt="Снимок экрана 2023-10-24 в 09 55 55" src="https://github.com/iis-32170x/RPIIS/assets/105926921/38b5a6c9-5f77-410c-959d-6a44fce6cfc6">

6. Если введен неправильный путь, то выведиться сообщение.

<img width="700" alt="Снимок экрана 2023-10-24 в 10 02 27" src="https://github.com/iis-32170x/RPIIS/assets/105926921/0109fffe-4a7d-4274-84a7-e3946b248ede">

7. Если не передано две переменные, то выведиться сообщение.

<img width="700" alt="Снимок экрана 2023-10-24 в 10 05 21" src="https://github.com/iis-32170x/RPIIS/assets/105926921/cde83324-4a84-48ec-b950-af3879465e56">

8. Если слова не будут найдены сосдасться просто пустой файл **_result.txt_**


## Описание алгоритма, пример запуска и выполнения программы(.sh файл)) :
<img width="1169" alt="Снимок экрана 2023-10-23 в 22 34 51" src="https://github.com/iis-32170x/RPIIS/assets/105926921/bcb26128-377e-46e3-9d51-85912a855c9d">

```shell
#!/bin/bash

if [ $# -ne 2 ]; then
    echo "Usage: $0 <directory_path> <letter>"
    exit 1
fi

directory_path="$1"
letter="$2"

if [ ! -d "$directory_path" ]; then
    echo "This folder does not exist"
    exit 1
fi

find "$directory_path" -type f -name "*.txt" -exec grep -i "\<[a-zA-Z]*$letter\>" {} \; > result.txt

echo "Words ending with '$letter' in '*.txt' files have been saved in 'result.txt'"
```

### Алгоритм
* *На вход приходит два аргумента: путь к директории в которой будем выполнять поиск и буква латинского алфавита.*

* *Проверяется, существует ли указанная директория. Если директория не существует, выводится сообщение об ошибке и скрипт завершает работу.*

* *Выполняется поиск файлов с расширением ".txt" внутри указанной директории с использованием команды find.*

* *Для каждого найденного ".txt" файла выполняется поиск слов, оканчивающихся на заданную букву, с помощью команды grep. Результаты поиска записываются в файл "result.txt" с использованием оператора ***>***. Здесь используется регулярное выражение ***\<[a-zA-Z]*$letter\>***, чтобы найти слова, оканчивающиеся на указанную букву (буква в верхнем или нижнем регистре).*

* *После завершения скрипта выводится сообщение о завершении выполнения операции.*

### Переменные
* **_directory_path_** - переменная, которая хранит путь к директории, переданный первым аргументом скрипту.
* **_letter_** - переменная, которая хранит букву, переданную вторым аргументом скрипту.
* **_result.txt_** - имя файла, в который сохраняются результаты поиска.
* **_$0_** - встроенная переменная, хранящая имя исполняемого файла скрипта.

### Методы и комманды
* **_echo_** - команда для вывода текста в командной строке.
* **_if_** - условная конструкция для выполнения команд в зависимости от результата проверки условия.
* **_find_** - команда для поиска файлов и директорий в файловой системе.
* **_grep_** - команда для поиска текстовых данных в файлах с использованием регулярных выражений.
* **_[]_** - квадратные скобки используются для выполнения тестов (условных выражений) внутри **_if_** , например **_[ $# -ne 2 ]_** проверяет, что количество аргументов не равно 2.
* **_exit_** - команда для завершения выполнения скрипта с указанным кодом возврата.

### Пример запуска
1. Запустим командную строку ***git bash*** и переходим в нужную директорию с помощью консольной команды **_cd_**.
<img width="700" alt="Снимок экрана 2023-10-24 в 00 42 12" src="https://github.com/iis-32170x/RPIIS/assets/105926921/d7ed2930-c164-4851-b674-666a391c972d">

2. Запустим файл **_.sh_**, для это пропишем в командной строке.

    ```./файл.sh <directory_path> <letter>```

<img width="700" alt="Снимок экрана 2023-10-24 в 01 09 58" src="https://github.com/iis-32170x/RPIIS/assets/105926921/c3951cf0-2338-461f-999e-b7b18ae4331b">

3. Нажимаем Enter и видим что программа выполнена.

<img width="700" alt="Снимок экрана 2023-10-24 в 01 16 16" src="https://github.com/iis-32170x/RPIIS/assets/105926921/4dfd0990-54f2-47fc-9dab-331b948d2b21">

4. В папке с файлом **_sh_** появился файл **_result.txt_**

<img width="700" alt="Снимок экрана 2023-10-24 в 09 15 03" src="https://github.com/iis-32170x/RPIIS/assets/105926921/8ab77cce-f4a1-499b-a28a-51129385c0fa">

5. Содержимое файла.
   
<img width="700" alt="Снимок экрана 2023-10-24 в 09 18 41" src="https://github.com/iis-32170x/RPIIS/assets/105926921/acd62457-1c3b-449c-a4f1-d9da4080ee17">

6. Если слова не будут найдены сосдасться просто пустой файл **_result.txt_**

## Лаб 1
Функция NUL в данном контексте не является встроенной функцией или командой операционной системы Windows, а скорее представляет собой специальный файл или устройство. В операционных системах Windows NUL представляет собой псевдофайл, который используется для отсутствующих данных или для игнорирования вывода.

В командной строке операционной системы Windows вы можете просмотреть содержимое файла с помощью команды type. Просто выполните следующую команду, указав путь к файлу, который вы хотите просмотреть: ```type путь_к_файлу```
