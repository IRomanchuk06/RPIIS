# Лабораторная работа №1
* В ходе лабораторной работы №1 необходимо создать файл с разрешением **.bat** и **.sh** в соответствии с заданным вариантом.
Цель лабораторной работы №1 - ознакомиться с командной строкой таких операционных систем, как **Windows** и **Linux**.
## Условие лабораторной работы №1 (51 вариант)
 ![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9F%D1%88%D0%B5%D0%BD%D0%BE%D0%B2_%D0%95/Screens/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202023-10-21%20121441.png)
# Описание алгоритма, пример запуска и выполнения программы (.bat)
 ![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9F%D1%88%D0%B5%D0%BD%D0%BE%D0%B2_%D0%95/Screens/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202023-10-21%20140946.png)
### Переменные, используемые в **.bat** файле
* **%~1** - аргумент командной строки, используемый для определения папки, с которой будет выполняться работа.
* **folder** - переменная, используемая для хранения пути к папке.
* **соunter** - переменная, используемая для подсчёта строк в каждом текстовом файле и проверки условия в цикле.
## Разбор кода **.bat**
 ![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9F%D1%88%D0%B5%D0%BD%D0%BE%D0%B2_%D0%95/Screens/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202023-10-21%20143854.png)
* **chcp 65001** - команда, позволяющая использовать русский язык в коде.
* **setlocal enabledelayedexpansion**- режим отложенного расширения переменных среды, позволяющий использовать перезаписывающиеся переменные с !...!.

  ![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9F%D1%88%D0%B5%D0%BD%D0%BE%D0%B2_%D0%95/Screens/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202023-10-21%20143940.png) 
* **if "%~1"=="" (...)** - проверка наличия аргумента (пути к папке).
* **echo Данной папки нет** - вывод сообщения "Данной папки нет" при выполнении условия оператора if.
* **exit /b** - команда, позволяющая выйти из текущего бат-файла без завершения работы командной строки.

  ![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9F%D1%88%D0%B5%D0%BD%D0%BE%D0%B2_%D0%95/Screens/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202023-10-21%20143951.png) 
* **set "folder=%~1"** - присваивание (установка) переменной **folder** значение аргумента **%~1**.
  
  ![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9F%D1%88%D0%B5%D0%BD%D0%BE%D0%B2_%D0%95/Screens/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202023-10-21%20144001.png)
* **IF NOT EXIST "%folder%" (...)** - проверка существования папки.
  
  ![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9F%D1%88%D0%B5%D0%BD%D0%BE%D0%B2_%D0%95/Screens/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202023-10-21%20144008.png)
* **echo. > log.txt** - создание или отчистка файла log.txt.
  
  ![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9F%D1%88%D0%B5%D0%BD%D0%BE%D0%B2_%D0%95/Screens/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202023-10-21%20144025.png) 
* Создаётся пустой файл **log.txt** или перезаписывается, если он уже существует.
* Далее для каждого файла с расширением **.txt**  в указанной папке и её подпапках:
   * устанавливается переменная **counter** в значение 0.
   * читается каждая строка файла.
   * увеличивается значение **counter** на 1.
   * при достижении значения переменной **counter=5** текущая строка добавляется в файл **log.txt** с помощью команды **echo**.

  ![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9F%D1%88%D0%B5%D0%BD%D0%BE%D0%B2_%D0%95/Screens/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202023-10-21%20144033.png)
* **sort log.txt /o log.txt** - сортировка строк в log.txt по возрастанию.
  
  ![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9F%D1%88%D0%B5%D0%BD%D0%BE%D0%B2_%D0%95/Screens/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202023-10-21%20144043.png)
* **echo Процесс завершен. Строки из файлов txt сохранены в log.txt.** - вывод сообщения об успешном завершении программы.
  
  ![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9F%D1%88%D0%B5%D0%BD%D0%BE%D0%B2_%D0%95/Screens/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202023-10-21%20144138.png) 
 * **endlocal** - завершение программы.
   
 ## Пример запуска и выполнения программы **.bat**
 
  ![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9F%D1%88%D0%B5%D0%BD%D0%BE%D0%B2_%D0%95/Screens/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202023-10-21%20171332.png)
* Запускаем командную строку от имени администратора.
  
  ![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9F%D1%88%D0%B5%D0%BD%D0%BE%D0%B2_%D0%95/Screens/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202023-10-21%20173602.png)
* Переходим в командной строке на рабочий стол и создаём папку **bbb1**.
* Переходим в эту папку и создаём в ней ещё одну папку **t**, в которой будут храниться созданные нами **.txt** файлы.
* Вводим числовые значения в наши **.txt** файлы.
 ![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9F%D1%88%D0%B5%D0%BD%D0%BE%D0%B2_%D0%95/Screens/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202023-10-21%20173804.png)
* Переносим наши файлы в папку **t**.
* Запуск файла **z.bat**.

   ![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9F%D1%88%D0%B5%D0%BD%D0%BE%D0%B2_%D0%95/Screens/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202023-10-21%20174942.png)
* Проверяем файл **log.txt** на правильность выполнения задания.
  Задание выполнено верно.


# Описание алгоритма, пример запуска и выполнения программы (.sh)
 ![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9F%D1%88%D0%B5%D0%BD%D0%BE%D0%B2_%D0%95/Screens/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202023-10-21%20180044.png)
 
### Переменные, используемые в **.sh** файле
* *$#** - переменная, используемая для проверки, был ли передан какой-либо аргумент скрипту.
* **$1** - переменная, используемая для проверки, существует ли указанная папка.
* **log_file** - переменная, используемая для хранения имени файла **"log.txt"**, в который будут записываться результаты обработки файлов.
* **file** - переменная, используемая для обработки строк из файлов.
* **line** - переменная, используемая для чтения строк из файлов.

 ## Разбор кода **.sh**
 ![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9F%D1%88%D0%B5%D0%BD%D0%BE%D0%B2_%D0%95/Screens/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202023-10-21%20183800.png)
 * **if [...]; then ... fi** - проверка наличия аргумента (пути к папке)
 * **[$# -eq 0]** - равна ли переменная $# нулю.
 * **echo "Не указан путь к папке."** - вывод сообщения "Не указан путь к папке" при выполнении условия цикла **if**.
 
 ![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9F%D1%88%D0%B5%D0%BD%D0%BE%D0%B2_%D0%95/Screens/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202023-10-21%20183811.png)
 * **if [...]; then ... fi** - проверка существования папки.
 * **[! -d "$1"]** - не является ли дерикторией переменная "$1".
 
 ![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9F%D1%88%D0%B5%D0%BD%D0%BE%D0%B2_%D0%95/Screens/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202023-10-21%20183820.png)
 * **log_file="log.txt" > "$log_file"** - создание пустой файл **log.txt** для записи результатов.
   
 ![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9F%D1%88%D0%B5%D0%BD%D0%BE%D0%B2_%D0%95/Screens/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202023-10-21%20183828.png)
 * **find "$1" -type f -name "*.txt"** - поиск всех файлов с расширением **.txt**.
 * **read -r file** - построчное чтение файла.
 * **line=$(sed -n '5p' "$file")** - чтение строки с номером 5 и сохранение её в переменную **"line"**.
 * **echo "$line" >> "$log_file"** - записывание прочитанной строки в файл **"$log_file"**.
 
 ![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9F%D1%88%D0%B5%D0%BD%D0%BE%D0%B2_%D0%95/Screens/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202023-10-21%20183834.png)
 * **sort -o "$log_file" "$log_file"** - сортировка файла по строкам и перезаписывание его.
  
 ![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9F%D1%88%D0%B5%D0%BD%D0%BE%D0%B2_%D0%95/Screens/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202023-10-21%20183841.png)
 * **echo "Обработка завершена. Результаты записаны в $log_file."** - вывод сообщения об окончании обработки.
## Пример запуска и выполнения программы **.sh**
  
   ![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9F%D1%88%D0%B5%D0%BD%D0%BE%D0%B2_%D0%95/Screens/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202023-10-21%20194125.png)
* Запускаем командную строку от имени администратора.
  
  ![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9F%D1%88%D0%B5%D0%BD%D0%BE%D0%B2_%D0%95/Screens/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202023-10-21%20195312.png)
* Переходим в командной строке на рабочий стол и создаём папку **bbb2**.
* Переходим в эту папку и создаём в ней ещё одну папку **tl**, в которой будут храниться созданные нами **.txt** файлы.
* Вводим числовые значения в наши **.txt** файлы.
 ![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9F%D1%88%D0%B5%D0%BD%D0%BE%D0%B2_%D0%95/Screens/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202023-10-21%20195329.png)
* Переносим наши файлы в папку **tl**.

  ![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9F%D1%88%D0%B5%D0%BD%D0%BE%D0%B2_%D0%95/Screens/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202023-10-21%20195349.png)
* Переходим в wsl для запуска sh-файла.
* Запуск файла **z.sh**.

   ![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9F%D1%88%D0%B5%D0%BD%D0%BE%D0%B2_%D0%95/Screens/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202023-10-21%20200830.png)
* Проверяем файл **log.txt** на правильность выполнения задания.
  Задание выполнено верно.

## Итог






















































































































 
