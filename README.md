# Лабораторная работа №1

<div id="header" align="center">
  <img src="https://media.giphy.com/media/M9gbBd9nbDrOTu1Mqx/giphy.gif" width="100"/>
</div>

## Условие задания (вариант 50)

Создать файл sh и bat, который выполняет следующее: 
На вход пакетному файлу приходит абсолютный путь к папке (как параметр пакетного файла). Если такой папки нет, то писать “Данной папки нет” и завершить выполнение программы. Если такая папка есть, то в ней и ее подкаталогах удалить все файлы с расширением doc, а их названия записать в файл log.txt в порядке убывания

---

![](https://img.shields.io/badge/Файл-bat-blue)

### Код программы

```bash
@echo off
chcp 65001
set /p input=Введите абсолютный путь к папке: 
if not exist %input% (
    echo Данной папки нет.
    pause
    exit /b
) else (
    for /l %input% %%i in (*.doc) do (
        echo %%~nxi
        del %%i
    )
) > %input%\log.txt
sort %input%\log.txt

echo Файлы с расширением .doc удалены и их названия записаны в log.txt.
pause
```

### Пример запуска

1. Запустите командную строку (cmd.exe) на вашем компьютере.
2. Перейдите в каталог, содержащий ваш скрипт.
3. Запустите скрипт, следуя инструкциям в командной строке.

![](https://github.com/iis-32170x/RPIIS/assets/145226586/75a902eb-eed5-4f7a-b957-e5e2667ed788)



### Описание аргументов

- `chcp 65001`: Эта команда устанавливает кодировку консоли на UTF-8, что позволяет работать с кириллицей.

- `set /p input=Введите абсолютный путь к папке`: Запрашивает у пользователя ввод абсолютного пути к папке, в которой нужно удалить файлы .doc.

- `if not exist %input%`: Проверяет существование указанной папки. Если папки не существует, выводит сообщение "Данной папки нет" и завершает выполнение скрипта.

- `for /l %input% %%i in (*.doc)`: Начинает цикл для поиска файлов .doc в указанной папке.

- `echo %%~nxi`: Выводит название файла, который будет удален.

- `del %%i`: Удаляет файл .doc.

- `> %input%\log.txt`: Записывает названия удаленных файлов в файл log.txt.

- `sort %input%\log.txt`: Сортирует записи в файле log.txt.

- В конце выводит сообщение о том, что файлы с расширением .doc были удалены, а их названия записаны в log.txt.

### Примеры выполнения программы:
#### До выполнения программы
![Снимок экрана 2023-10-15 152102](https://github.com/iis-32170x/RPIIS/assets/145226586/d95ce30c-99d0-4988-a86f-0289a3876c1f)

#### После выполнения программы
![Снимок экрана 2023-10-15 152242](https://github.com/iis-32170x/RPIIS/assets/145226586/7553d68e-e1f7-4b44-a0b0-27fedbbc6377)

---

![](https://img.shields.io/badge/Файл-sh-blue)

### Код программы

```bash
#!/bin/bash

echo 'Введите абсолютный путь: '
read var1

if [ -e $var1 ]
then
    touch log.txt # Создаем пустой файл log.txt
	cd $var1
find -type f -name "*.doc" | sort -r --output=log.txt # Ищем все файлы с расширением .doc и сортируем их имена

rm $var1/*.doc
else
    echo 'Данная папка не существует'
fi

$SHELL
```
### Пример запуска
1. Откройте терминал, соответствующий вашей операционной системе (например, терминал Linux, macOS, Git Bash на Windows).
2. Перейдите в каталог, содержащий ваш скрипт.
3. Запустите скрипт, следуя инструкциям в командной строке.

![Снимок экрана 2023-10-15 152434](https://github.com/iis-32170x/RPIIS/assets/145226586/8eb0176f-646b-4a16-9a5f-f1e008377041)

### Описание аргументов

- `#!/bin/bash`: Эта строка обозначает, что это скрипт, который будет выполняться в оболочке Bash.
- `echo 'Введите абсолютный путь:`: Эта строка выводит на экран текст "Введите абсолютный путь: ".
- `read var1`: Эта строка читает ввод пользователя и сохраняет его в переменной var1.
- `if [ -e $var1 ]`: Начало условной конструкции. Проверяется существование пути, указанного в переменной var1. Если путь существует, выполняется следующий блок команд.
- `touch log.txt`: Создает пустой файл с именем "log.txt" в текущей директории (где был запущен скрипт).
- `cd $var1`: Меняет текущую рабочую директорию на путь, указанный в переменной var1. Теперь скрипт будет выполнять операции в этой директории.
- `find -type f -name "*.doc" | sort -r --output=log.txt`: Эта строка команд ищет все файлы с расширением ".doc" в текущей директории и её поддиректориях с помощью find, затем сортирует их имена в обратном порядке с помощью sort, и результат сохраняет в файле "log.txt".
- `rm $var1/*.doc`: Эта строка удаляет все файлы с расширением ".doc" в указанной директории (путь к которой хранится в переменной var1).
- `else`: Если проверка существования пути (if [ -e $var1 ]) вернет "ложь", то выполнится следующий блок команд.
- `echo 'Данная папка не существует`: Эта строка выводит сообщение "Данная папка не существует", если путь, указанный пользователем, не существует.
- `fi`:  Завершение условной конструкции.
- `$SHELL`: Эта строка запускает текущую оболочку скрипта. Она может использоваться, чтобы перезапустить текущую оболочку после выполнения скрипта.

### Примеры выполнения программы:
#### До выполнения программы

![Снимок экрана 2023-10-15 204907](https://github.com/iis-32170x/RPIIS/assets/145226586/326d3f0f-b807-4086-b2d1-f56510204871)

#### После выполнения программы:
![Снимок экрана 2023-10-15 205000](https://github.com/iis-32170x/RPIIS/assets/145226586/360282d4-92d3-4472-be62-d65dcd2f9ad1)

---
# Дополнительное задание
- По умолчанию команда **sort** в файлах .sh и .bat используется алгоритм сортировки "Лексикографическая сортировка" (Lexicographic Sort). Этот метод сортировки сравнивает строки как последовательности символов и упорядочивает их в алфавитном порядке в соответствии с кодами символов.
- Основное **различие между > и >>** заключается в том, что > создает или перезаписывает файл, а >> добавляет вывод к существующему файлу без перезаписи.
- **Синтаксис для условных операторов if, else:**
 <br>
  1.Файл bat
  if условие (
  <br>
    :: Код, который выполняется, если условие истинно
    <br>
) else (
<br>
    :: Код, который выполняется, если условие ложно
    <br>
  )
  <br>
  
  
  2.Файл sh
  <br>
if [ условие ]
<br>
then
<br>
    # Код, который выполняется, если условие истинно
    <br>
else
<br>
    # Код, который выполняется, если условие ложно
    <br>
fi
<br>
### Основные команды:
| Команда (Bat) | Команда (Bash) | Описание                                |
|---------------|----------------|----------------------------------------|
| `echo`        | `echo`         | Вывод текста на экран                   |
| `echo.>[имя файла]`         | `echo -n>[имя файла]`| Удаление содержимого файла|   
| `type`          | `cat`           | Вывод содержимого файла                      |
| `tasklist`         | `tasklist`          | Текущие процессы  |
| `cd`        | `pwd`  | Текущий рабочий каталог |
| `tree`        | `tree` | Графическая структура каталогов    |
| `cd`         | `cd` | Изменение рабочего каталога    |
| `date`    | `date`        | Выводит дату |
| `dir`    | `ls`        | Выводит содержимое директории |
| `cd ..`        | `cd ..` |Вернуться в предыдущую директорию         |
| `cls`         | `clear`        | Очистка экрана    |
| `mkdir`         | `mkdir`        | Создание папки    |
| `rmdir`         | `rmdir`        | Удаление папки    |
| `echo (текст) > [имя файла]`         | `touch`        | Создание файла    |
| `del`         | `rm`        | Удаление файла    |
| `move`         | `mv`        | Переименовать/ переместить папку/файл  |
| `copy`         | `cp`        | Скопировать один файл в другой |



   














