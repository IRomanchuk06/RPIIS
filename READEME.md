# BSUIR ЛР1 
В рамках ЛР 1 необходимо создать файл с разрешением *bat.* и *sh.* в соответствии с заданным вариантом.
Цель данной лаборотоной работы - ознакомится с командными строками операционных систем *Windows* и *Linux*.
## Условие ЛР1 (93 вариант)
![image](https://github.com/iis-32170x/RPIIS/assets/144383538/78575ff1-aa6d-444f-917f-bc0f96c85cc9)
# Описание алгоритма, пример запуска и выполнения программы (.bat)
![image](https://github.com/iis-32170x/RPIIS/assets/144383538/c7181312-ff93-402d-8903-8ed108fd11fa)
## Алгоритм программы
1. Отключаем вывод команд на экран 
2. Устанавливаем кодировку командной строки
3. Выводим сообщение "Введите абсолютный путь:" 
4. Получаем введенный пользователем путь 
5. Проверяем, существует ли указанная папка. Если не существует, то выводим сообщение "Данной папки нет", останавливаем выполнение и выходим из программы.
6. Создаем файл "result.txt" в указанной папке 
7. Используем цикл for для обхода всех скрытых файлов в указанной папке и её подпапках , сортированных по имени, без вывода заголовков, с сохранением полного пути к файлу .
8. Для каждого скрытого файла, выводим только имя файла без расширения с 
9. Проверяем, существует ли файл "result.txt" в указанной папке. Если не существует, то выводим сообщение "Файл не существует".
10. Иначе, для файла "result.txt", проверяем его размер .
11. Если размер файла равен 2 байта (значит, он пустой), то выводим сообщение "Скрытых файлов нет" и перезаписываем содержимое файла "result.txt" 
12. Иначе, выводим содержимое файла "result.txt" 
13. Останавливаем выполнение программы.
### Переменные
- upath:Содержит абсолютный путь к папке, введенный пользователем.
 ## Разбор кода
1. chcp 65001 > nul: устанавливает кодировку командной строки на UTF-8. > nul используется для подавления вывода команды в консоль.
2. set /p upath=: пользователь вводит абсолютный путь, который сохраняется в переменной upath.
3. if not exist "%upath%": проверяет, существует ли папка, указанная в переменной upath.
4. echo Данной папки нет: выводит сообщение о том, что указанной папки не существует.
5. pause: останавливает выполнение программы и ожидает нажатия клавиши пользователем.
6. echo.> "%upath%\result.txt": создает файл "result.txt" в папке, указанной в переменной upath. echo. используется для создания пустого файла.
7. for /F "tokens=* delims=" %%a in ('dir /a:h /o:n /b /s %upath%') do: цикл for для обхода и сортировки в алфавитном порядке всех скрытых файлов в указанной папке и её подпапках.
8. echo %%~na>>%upath%\result.txt: выводит только имя файла без расширения и добавляет его в файл "result.txt" в папке, указанной в переменной upath.
9. if not exist "%upath%\result.txt": проверяет, существует ли файл "result.txt" в папке, указанной в переменной upath.
10. echo Файл не существует: выводит сообщение о том, что файл не существует.
11. for %%I in ("%upath%\result.txt") do: цикл for для обработки файла "result.txt".
12. if %%~zI EQU 2: проверяет, если размер файла равен 2 байта.
13. echo Скрытых файлов нет: выводит сообщение о том, что скрытых файлов нет.
14. echo Скрытых файлов не найдено > %upath%\result.txt: перезаписывает содержимое файла "result.txt" с сообщением "Скрытых файлов не найдено".
15. type %upath%\result.txt: выводит содержимое файла "result.txt".
16. pause: останавливает выполнение программы и ожидает нажатия клавиши пользователем.
## Пример и алгоритм работы:
 запуск командной строки  
 
 
 ![image](https://github.com/iis-32170x/RPIIS/assets/144383538/2847add4-0d72-4e80-817f-120e08cf08dc)
 
 Открытие .bat файла:
 
Переход к папке - _cd_путь к папке_

Запуск .bat файла - start "Имя файла"

![image](https://github.com/iis-32170x/RPIIS/assets/144383538/edd5a1b2-6863-4469-b1bc-07aeca035392)

Искомая папка со скрытыми файлами:

![image](https://github.com/iis-32170x/RPIIS/assets/144383538/7f5e0853-3f03-4234-948f-cef73c96bc04)

Содержимое папки:

![image](https://github.com/iis-32170x/RPIIS/assets/144383538/173dafbc-b14c-4be7-81df-b008c784fbe5)

Запуск bat файла с папкой harry:

![image](https://github.com/iis-32170x/RPIIS/assets/144383538/cd20e58e-0ef7-4b35-b32b-d74c998a19dd)

Содержимое папки harry после запуска:

![image](https://github.com/iis-32170x/RPIIS/assets/144383538/fd844bf1-50a8-459c-a870-29dfddb1f5b9)

Содержимое файла result.txt:

![image](https://github.com/iis-32170x/RPIIS/assets/144383538/eb31d59b-d60c-45b5-86b8-d501ccaab395)

Ввод несуществующей папки:

![image](https://github.com/iis-32170x/RPIIS/assets/144383538/d924f4b2-b1e7-45dc-b351-47b0e47a0052)

Папка без скрытых файлов:

![image](https://github.com/iis-32170x/RPIIS/assets/144383538/df84b64c-b59c-416e-883a-644837a379c2)

Содержимон папки ron:

![image](https://github.com/iis-32170x/RPIIS/assets/144383538/d7e66dc1-57f0-4964-aaaf-36cd7632de29)

Пример запуска bat файла с папкой ron:

![image](https://github.com/iis-32170x/RPIIS/assets/144383538/684021d0-4f11-4abe-ade0-116e24f2d4fc)

Содержимое папки ron после запуска:

![image](https://github.com/iis-32170x/RPIIS/assets/144383538/abe4c14c-8283-475b-9f68-bb8645a4586e)

Содержимое файла result.txt:

![image](https://github.com/iis-32170x/RPIIS/assets/144383538/16aa7300-b3bc-4551-aa8a-f5ea8c695452)

Bat файл работает исправно во всех трех случаях.

# Описание алгоритма, пример запуска и выполнения программы (.sh)

![image](https://github.com/iis-32170x/RPIIS/assets/144383538/3a88f229-ca4f-42a9-93c3-23ef02c46bb1)

## Алгоритм программы
1. Выводим  сообщение "Введите абсолютный путь: ".
2. Считываем введенный путь и сохранить его в переменную "upath".
3. Проверяем существование папки с указанным путем:
4.Если папка не существует, вывести сообщение "Данной папки нет" и завершить выполнение скрипта.
4. Создаём файл "result.txt" в папке "upath" и очистить его содержимое.
5. Проходим по всем файлам, начинающимся с точки (скрытые файлы) в папке "upath" и ее подпапках
6. отсортировываес все скрыте файлы 
7.Записываем имена найденных файлов в "result.txt".
8. Если файл "result.txt" пуст, записать сообщение "Скрытых файлов не найдено" в "result.txt" и вывести сообщение "Скрытых файлов не найдено".
9. Если файл "result.txt" не пуст, вывести сообщение "Скрытые файлы:" и содержимое файла "result.txt".
10. Ожидать нажатия любой клавиши для завершения работы скрипта.
### Переменные
- upath:Содержит абсолютный путь к папке, введенный пользователем.
## Разбор кода
1. #!/bin/bash: Это шебанг (shebang) и означает, что скрипт будет выполняться на интерпретаторе bash.
2. echo "Введите абсолютный путь: ": Эта команда выводит сообщение на стандартный вывод. В данном случае, выводится строка "Введите абсолютный путь: ".
3. read upath: Команда read используется для считывания ввода пользователя. В данном случае, введенное значение будет сохранено в переменную upath.
4. if [ ! -d "$upath" ]; then: Это начало условной конструкции if. Она проверяет, существует ли указанная пользователем папка ("$upath"). Если папка не существует, выполняется блок кода, следующий за оператором then.
5. read -rsp "Данной папки нет" -n1 key: Команда read с флагами -rsp и -n1 используется для чтения одного символа (знака) с клавиатуры и вывода сообщения "Данной папки нет". Когда пользователь нажимает любую клавишу, программа продолжает выполнение.
6. exit: Эта команда завершает выполнение скрипта.
7. touch "$upath/result.txt": Команда touch используется для создания файла. В данном случае, она создает файл с именем "result.txt" в указанной пользователем папке ("$upath").
8. > "$upath/result.txt": Оператор > используется для перенаправления вывода команды или очистки содержимого файла. В данном случае, он перенаправляет вывод в файл "result.txt" и очищает его содержимое.
9. while IFS= read -r -d '' file; do: Это начало цикла while. Он будет выполняться до тех пор, пока команда read будет успешно считывать строки из команды find.
10. echo "$(basename "$file")" >> "$upath/result.txt": Эта команда получает только имя файла без пути с помощью команды basename и добавляет его в файл "result.txt" с использованием оператора >>, который перенаправляет вывод и добавляет его в конец файла.
11. done < <(find "$upath" -type f -name '.*' -print0 | sort -k1.2r): Завершение цикла while. Здесь команда find используется для поиска скрытых файлов (файлов, имена которых начинаются с точки) в указанной пользователем папке, сортирует их в алфавитном порядке, и их результаты передаются в цикл while для обработки.
12. if [ ! -s "$upath/result.txt" ]; then: Это начало второй условной конструкции if. Она проверяет, пуст ли файл "result.txt". Если файл пуст, выполняется блок кода, следующий за оператором then.
13. echo "Скрытых файлов не найдено" > "$upath/result.txt": Команда echo используется для вывода строки "Скрытых файлов не найдено". Здесь она перенаправляет вывод в файл "result.txt" и перезаписывает его содержимое.
14. read -rsp "Скрытых файлов не найдено" -n1 key: Команда read используется для чтения ввода пользователя. В данном случае, она выводит сообщение "Скрытых файлов не найдено". Когда пользователь нажимает любую клавишу, программа продолжает выполнение.
15. else: Это ключевое слово else, которое указывает на то, что выполнение кода продолжится, если условие в предыдущем if не было выполнено.
16. echo "Скрытые файлы:": Команда echo используется для вывода сообщения "Скрытые файлы:".
17. cat "$upath/result.txt": Команда cat используется для вывода содержимого файла на стандартный вывод. В данном случае, она выводит содержимое файла "result.txt".
18. read -rsp: Команда read используется для чтения ввода пользователя.
## Пример и алгоритм работы:
 запуск sh файла:

![image](https://github.com/iis-32170x/RPIIS/assets/144383538/85f7daa6-f4e8-46e3-84bc-e4b22c324eab)

Искомая папка со скрытыми файлами:

![image](https://github.com/iis-32170x/RPIIS/assets/144383538/1c3c47d5-faf6-4405-8ce0-22d6905511a4)

Содержимое папки(скрытые файлы не отображены):

![image](https://github.com/iis-32170x/RPIIS/assets/144383538/61b697c8-5ac0-47da-aca6-b5f6ebffd93b)

Запуск sh файла с папкой ron:

![image](https://github.com/iis-32170x/RPIIS/assets/144383538/affb0779-84d9-4063-b145-97f984231025)

Содержимон папки ron после запуска:

![image](https://github.com/iis-32170x/RPIIS/assets/144383538/57dae8f6-9a31-4fce-80c6-06fcb61da8e0)

Содержимое файла result.txt:

![image](https://github.com/iis-32170x/RPIIS/assets/144383538/7d29fba0-0c67-48e5-a862-418383076dd0)

Ввод несуществующей папки:

![image](https://github.com/iis-32170x/RPIIS/assets/144383538/41efb86e-c953-42ca-8f56-7265ecc1a673)

Папка без скрытых файлов:

![image](https://github.com/iis-32170x/RPIIS/assets/144383538/7f00de3e-b0a5-472e-91b7-344827672f9d)

Содержимон папки germiona:

![image](https://github.com/iis-32170x/RPIIS/assets/144383538/d625e8bd-440b-4d27-bf07-33f81e4dd6d7)

Пример запуска bat файла с папкой germiona:

![image](https://github.com/iis-32170x/RPIIS/assets/144383538/bf5938f3-a6ee-499b-b994-2dd0e5639596)

Содержимое папки germiona после запуска:

![image](https://github.com/iis-32170x/RPIIS/assets/144383538/067e7119-27ab-4f90-bd5b-a5e53ff0be95)

Содержимое файла result.txt:

![image](https://github.com/iis-32170x/RPIIS/assets/144383538/a43b02d3-3b45-4d82-9732-95a5461879cc)

Sh файл работает исправно во всех трех случаях.
# Итог
Приобрел навыки работы с командной строки(а также стальные нервы). Разработал программы, выполняющие соответсвующее задание



















 
 

 
