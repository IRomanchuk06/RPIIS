#include <iostream>
#include <iomanip>
using namespace std;

int main()
{
	setlocale(LC_ALL, "RU");

	int i, j, n, m, k = 0, c = 0, r = 0, f = 0, j1, i1, L, count=0,ii,w=0, ct=0;
	string line, line2;

	cout << "введите количество множеств: ";
	cin >> n;

	string** A = new string* [n];
	int* C = new int[n];
	string K[200], p=",",v, v1;
	 
	for (i = 0; i < n; i++) {
		cout << "Ведите элементы"<<i+1<<" множества через запятую: ";
		cin >>line;
		L = line.length();
		count = 0;
		for (ii = 0; ii < L; ii++) {
			v = line[ii];
			if (v.compare(p) == 0) {
				count++;
			}
		}
		w = 0;
		C[i] = count+1;
		ct = 0;
		A[i] = new string[count+1];
		for (ii = 0; ii < L; ii++) {
			v = line[ii];
			if (v.compare(p) == 0) {
				line2 = line;
				line2.erase(ii, L-ii);
				A[i][w] = line2;
				line = line.erase(0, ii+1);
				ct++;
				w++;
				L = line.length();
				ii = 0;
			}
			if (ct == count) {
				A[i][w] = line;
				break;
			}
		}

	}

	for (i = 0; i < 2; i++) {
		for (j = 0; j < 3; j++)
			cout << A[i][j]<<endl;
	}


	for (i = 0; i < n; i++) {
		for (j = 0; j < C[i]; j++) {
			int t = 0;
			for (i1 = 0; i1 < n; i1++) {
				if (i == i1) i1++;
				if (i1 != n) {
					for (j1 = 0; j1 < C[i1]; j1++) {
						if (A[i][j].compare(A[i1][j1]) == 0) { //(A[i][j] == A[i1][j1])
							t = 1;
						}
						if (i != (n-1)) {
							if (i1 == (n - 1) && j1 == (C[i1] - 1)) {
								if (t == 0) {
									K[k] = A[i][j];
									k++;
								}
							}
						}
						else {
							if (i1 == (n - 2) && j1 == (C[i1] - 1)) {
								if (t == 0) {
									K[k] = A[i][j];
									k++;
								}
							}
						}
					}
				}
			}
		}
	}

	cout << " Симметрическая разность множеств: ";

	for (int y = 0; y < k; y++) {
		cout << K[y]<<" ";
	}

	for (i = 0; i < n; i++) {
		delete[] A[i];
	}
	delete[] A;
	delete[] C;
	system("pause");
	return 0;
}
