# <p align="center">Лабораторная работа №2</p>

Вариант 11. Реализовать программу, формирующую множество равное пересечению произвольного количества исходных множеств (с учётом кратных вхождений элементов).

## <p align="center">Цели и задачи лабораторной работы:</p>
1. Разработать программу, формирующую множество, равное пересечению произвольного количества исходных множеств с учетом кратных вхождений элементов.
2. Обеспечить обработку ошибок для корректного завершения программы при некорректных входных данных.
3. Проверить работу на примерах.
4. Составить отчет по выполнению работы, включая описание программы, результаты тестирования и обработку ошибок.
   
## <p align="center">Список используемых понятий и алгоритмов:</p>
1. **Форма Бэкуса — Наура:**
Форма Бэкуса — Наура (сокр. БНФ, Бэкуса — Наура форма) — формальная система описания синтаксиса, в которой одни синтаксические категории последовательно определяются через другие категории. БНФ используется для описания контекстно-свободных формальных грамматик. Существует расширенная форма Бэкуса — Наура, отличающаяся лишь более ёмкими конструкциями.

2. **Пересечение множеств:**
Пересечением неориентированных множеств A и B с учётом кратных вхождений элементов будем называть неориентированное множество S тогда и только тогда, когда для любого x истинно S|x| = min{A|x|, B|x|}.

3. **Исключение `std::invalid_argument`:**
   Это исключение в языке программирования C++, которое используется для сигнализации о недопустимых аргументах функции или операции. В данном коде оно применяется для обработки ситуаций, когда обнаруживаются некорректные аргументы во входных данных, например, неверные скобки или символы в множествах.

4. **Тестирование с использованием Google Test:**
   Google Test — это фреймворк для написания тестов в языке программирования C++. Тестирование с его использованием обеспечивает автоматизацию проверок и обеспечивает надежность кода.

## <p align="center">Описание используемых алгоритмов:</p>
**Список используемых алгоритмов в данном коде:**

1. **Чтение из файла (readSets):**
   - Читает множество по строкам из файла.
   - Проверяет соответствие открывающих и закрывающих скобок.

2. **Вывод множеств на экран (writeSets):**
   - Цикл для вывода информации о множествах на экран.
   - Записывает общее количество множеств.

3. **Обработка подмножеств (parseSet):**
   - Разбивает множество на элементы.

4. **Разбиение всех множеств на элементы (subsets):**
   - Записывает элементы множеств и выводит их на экран.

5. **Функция вычисления пересечения множеств (intersection):**
   - Находит одинаковые элементы, записывает их, удаляет совпавшие и несовпавшие одиночные элементы.
   - Использует `parseSet` для повторного вычисления пордмножеств.
   - Рекурсивно вызывает саму себя до проверки всех элементов.


<p align="center">
  <img src="https://github.com/iis-32170x/RPIIS/blob/%D0%A0%D0%BE%D0%BC%D0%B0%D0%BD%D1%87%D1%83%D0%BA_%D0%98/sem2/lab2/intersection.png?raw=true" alt="Тесты библиотеки">
</p>

**Тесты:**

1. **`BracketsBalanceTest` - Тест баланса скобок**
   - Проверяет корректность баланса скобок в строках.

2. **`ValidIntersection1` - Тест корректного пересечения множеств без вложенных множеств и повторяющихся элементов**
   - Проверяет корректность вычисления пересечения множеств для простого варианта множеств.

3. **`ValidIntersection2` - Тест корректного пересечения множеств с вложенными множествами и повторяющимися элементами**
   - Проверяет корректность вычисления пересечения множеств с вложенными и повторяющимися элементами. Тест нужен для проверки: учитывается ли кратность вхождения элементов.

4. **`ValidIntersection3` - Тест корректного пересечения множеств с разными именами множеств**
   - Проверяет корректность вычисления пересечения множеств с разными именами. Проверка корректной обработки имен множеств.

5. **`ValidIntersection4` - Тест корректного пересечения множеств с множеством пустых скобок**
   - Проверяет корректность вычисления пересечения множеств, включая случай с пустыми скобками.
  
6. **`ValidIntersection5` - Тест корректного пересечения множеств с множеством пустых скобок**
   - Проверяет корректность вычисления пересечения множеств, включая случай с пустыми скобками.
  
7. **`ValidIntersection5` - Тест корректного пересечения множеств с неориентированными множествами**
   - Проверяет корректность вычисления пересечения множеств, при неориентированных подмножествах с разным порядком элементов.

8. **`InvalidArgument1` - Тест с неверным (направленным) множеством**
   - Проверяет выбрасывание исключения при обработке направленного множества. Пересечение выполняется для неориентированных множеств.

9. **`InvalidArgument2` - Тест с неверным балансом скобок в множестве**
   - Проверяет выбрасывание исключения при неверном балансе скобок в строках.

10. **`InvalidArgument3` - Тест с неразрешенными символами в множестве**
   - Проверяет выбрасывание исключения при наличии неразрешенных символов в множестве.

11. **`InvalidArgument4` - Тест с неверным (не существующим) путем файла**
   - Проверяет выбрасывание исключения при попытке чтения из несуществующего файла.

## <p align="center">Вывод:</p>

В ходе лабораторной работы были улучшены навыки обработки множеств и вычисления их пересечений в C++. Освоены принципы взаимодействия с файлами, использования регулярных выражений и структур данных, таких как стеки, для обработки вложенных множеств.

Реализованы функции проверки сбалансированности скобок в множествах, чтения и обработки данных из файла, а также вычисления пересечений. Активно использовались стандартные контейнеры C++ для эффективной работы с данными.

Для обеспечения корректности работы программы были созданы модульные тесты с использованием Google Test. Эти тесты охватывают различные сценарии, включая проверку сбалансированности скобок и обработку различных ошибок.

Опыт работы с обработкой файлов, регулярными выражениями и структурами данных предоставил новые знания. Применение модульного тестирования подчеркнуло надежность и корректность реализации, предоставляя полезные инсайты в использование стандартных инструментов C++.

## <p align="center">Используемые источники:</p>
1. https://drive.google.com/drive/folders/1SLcF9njDTaNUacXMA9Nrqm7FUS7MnNsI (теория + задание)
2. https://www.youtube.com/watch?v=5mD-rhaYF4U&t=209s (создание библиотеки).
3. https://github.com/google/googletest (про Google test: установка, использование).
4. https://chat.openai.com (помощь в освоении материала)
