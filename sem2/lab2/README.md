# Лабораторная работа №2

## Задача
Реализовать программу, формирующую множество равное булеану исходного множества.

## Цель
Практика в работе с алгоритмами обработки множеств.

## Список ключевых понятий
* ***Множество*** – простейшая информационная конструкция и математическая структура, позволяющая рассматривать какие-то объекты как целое, связывая их.
* ***Булеан множества*** - множество, элементами которого являются все возможные подмножества исходного множества.

## Функции программы
### 1. Функция `def read_set(filename)`. Создание исходного множества элементов из файла.

* Принимает на вход имя файла в котором записано множество.
* Считывает строку множества и файла, разбивает её на подстроки-элементы и записывает в массив строк - `Set_elements`.
* Проверяет на корректность запись множества в файле и она запись неверная, то возвращает соответсвующую ошибку.
* Реагирует на следующие возможные ошибки в записи множества:

  * Исходное множество не заключено в фигурные скобки.
  * Потеряна одна или несколько фигурных или угловых скобок в записи элемента.
  * Наличие пробелов в записи множества.
* Возвращает множество, состоящее из элементов прочитанного множества.

#### Код функции:
   ```python
  def read_set(filename):
    with open(filename, 'r') as file:
        Set = file.readline().strip()
        print(Set)
        
        if (Set[0] != '{' or Set[-1] != '}'):
            raise ValueError("Множество не заключено в фигурные скобки.")
        
        Set_elements = [] #Множество строк, в которое будут записываться элементы исходного множества
        current_element = "" #Переменная для хранения обрабатываемого элемента
        Set = Set[1: -1]  #Обрезает крайние скобки у строки множества
        i = 0
        while(i < len(Set)):

            if ( Set[i] == ' '):
                raise ValueError("Некорректная запись множества. Элементы множества не должны быть разделены пробелами.")   
            
            elif Set[i] == '{':
                current_element += Set[i]
                i += 1
                while i < len(Set):
                    if Set[i] == ' ':
                        raise ValueError("Некорректная запись множества. Элементы множества не должны быть разделены пробелами.")   
                    current_element += Set[i] 
                    
                    if current_element.count('<') < current_element.count('>'):
                        raise ValueError("Некорректная запись элемента множества")
                            
                    elif current_element.count('{') == current_element.count('}'):
                        if current_element[0] != '{' or current_element[-1] != '}':
                            raise ValueError("Некорректная запись элемента множества")
                        break                
                    i += 1

            elif Set[i] == '<':
                current_element += Set[i]
                i += 1
                while i < len(Set):
                    if Set[i] == ' ':
                        raise ValueError("Некорректная запись множества. Элементы множества не должны быть разделены пробелами.")   
                    current_element += Set[i] 
                    
                    if current_element.count('{') < current_element.count('}'):
                        raise ValueError("Некорректная запись элемента множества")
                            
                    elif current_element.count('<') == current_element.count('>'):
                        if current_element[0] != '<' or current_element[-1] != '>':
                            raise ValueError("Некорректная запись элемента множества")
                        break
                    i += 1
                
            elif (Set[i] == ','):
                Set_elements.append(current_element)
                current_element = ""

            else:
                current_element += Set[i]
            i += 1
        
        if (current_element != ""):
            Set_elements.append(current_element)
            current_element = ""
        return Set_elements
   ```

### 2. Функция `def create_power_set(Set_elements)`. Создание булеана множества.

* Создаёт пустое множество `power_set` - будущий булеан.
* Принимает на вход множество состоящее из строк - элементов исходного множества.
* Далее, при помощи побитовых сдвигов, в первом цикле создаёт так называемые "маски подмножества" (например: "00000001" - маска подмножества, согласно которой, данному подмножеству принадлежит только первый элемент исходного множества).
* Во втором цикле перебирается каждый элемент исходного множества и если он есть в "маске", то он добавляется в подмножество `subset`.
* Возвращает булеан исходного множества.

#### Код функции:
   ```python
   def create_power_set(Set_elements):
    power_set = []
    for i in range (1 << len(Set_elements)):
        subset = []
        for j in range (len(Set_elements)):
            if i & (1 << j):
                subset.append(Set_elements[j])
        power_set.append(subset)
    return power_set
   ```

## Вывод
Написал программу для считывания множества из заданного файла, записи его в массив поэлементно и создания его булеана.
