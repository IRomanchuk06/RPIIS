# <p align="center">Лабораторная работа №2</p>

Вариант 11. Реализовать программу, формирующую множество равное пересечению произвольного количества исходных множеств (с учётом кратных вхождений элементов).

## <p align="center">Цели и задачи лабораторной работы:</p>
1. Разработать программу, формирующую множество, равное пересечению произвольного количества исходных множеств с учетом кратных вхождений элементов.
2. Создать библиотеку для работы с множествами, учитывая кратные вхождения элементов.
3. Написать тестовую программу для демонстрации функциональности библиотеки.
4. Разработать систему тестов, включая критические случаи и граничные условия.
5. Обеспечить обработку ошибок для корректного завершения программы при некорректных входных данных.
6. Составить отчет по выполнению работы, включая описание программы, результаты тестирования и обработку ошибок.
   
## <p align="center">Список используемых понятий и алгоритмов:</p>
1. **Библиотека программного обеспечения (Библиотека кода):**
В программировании библиотека представляет собой совокупность программного кода, предназначенного для решения определенных задач. Этот код может содержать функции, классы, процедуры или другие компоненты, которые разработчики могут повторно использовать в своих программных проектах. Библиотеки упрощают разработку, так как они предоставляют готовые решения для типовых задач.

2. **Стек (Stack):**
Стек - это структура данных, работающая по принципу "последний вошел, первый вышел" (Last In, First Out, LIFO). В данном контексте стек используется для отслеживания открывающих и закрывающих скобок в строке, обеспечивая баланс скобок.

3. **Регулярное выражение (Regex):**
Регулярное выражение - это шаблон, описывающий набор строк. В данном коде регулярные выражения используются для проверки соответствия строки определенному шаблону, что позволяет определить корректность ввода.

4. **Форма Бэкуса — Наура:**
Форма Бэкуса — Наура (сокр. БНФ, Бэкуса — Наура форма) — формальная система описания синтаксиса, в которой одни синтаксические категории последовательно определяются через другие категории. БНФ используется для описания контекстно-свободных формальных грамматик. Существует расширенная форма Бэкуса — Наура, отличающаяся лишь более ёмкими конструкциями.

5. **Пересечение множеств:**
Пересечением неориентированных множеств A и B с учётом кратных вхождений элементов будем называть неориентированное множество S тогда и только тогда, когда для любого x истинно S|x| = min{A|x|, B|x|}.

6. **Исключение `std::invalid_argument`:**
   Это исключение в языке программирования C++, которое используется для сигнализации о недопустимых аргументах функции или операции. В данном коде оно применяется для обработки ситуаций, когда обнаруживаются некорректные аргументы во входных данных, например, неверные скобки или символы в множествах.

7. **Тестирование с использованием Google Test:**
   Google Test — это фреймворк для написания тестов в языке программирования C++. Тестирование с его использованием обеспечивает автоматизацию проверок и обеспечивает надежность кода.

## <p align="center">Описание используемых алгоритмов:</p>
**Список используемых алгоритмов в данном коде:**

1. **Баланс скобок (bracketsBalance):**
   - Используется стек для отслеживания открывающих и закрывающих скобок.
   - Проверяет соответствие открывающих и закрывающих скобок.

2. **Вывод множеств на экран (print):**
   - Простой цикл для вывода информации о множествах на экран.

3. **Обработка подмножеств (processSubsets):**
   - Использует стек для проверки открывающих и закрывающих скобок.
   - Обрабатывает подстроку между двумя скобками и добавляет ее в вектор подмножеств.

4. **Чтение из файла и парсинг строк (read):**
   - Использует регулярные выражения для проверки формата строки.
   - Обрабатывает строки, создавая экземпляры класса `Set` и добавляя их в вектор, для последующей обработки подмножеств.

5. **Вычисление пересечения множеств (intersectionCalc):**
   - Использует два вложенных цикла для поиска общих элементов между двумя множествами, учитывая кратные вхождения.

6. **Функция вычисления пересечения множеств (intersection):**
   - Вызывает метод `read` для получения вектора множеств из файла.
   - Использует `intersectionCalc` для вычисления пересечения множеств и обновления вектора подмножеств.

## <p align="center">Результаты тестирования:</p>
Тестирование проводилось с помощью фреймворка Google test. Система тестов состоит из 9 тестов.

<p align="center">
  <img src="https://github.com/IRomanchuk06/PriorityQueue/blob/main/TestPriorityQueue.png?raw=true" alt="Тесты библиотеки">
</p>

**Система тестов:**
**Тесты:**

1. **`BracketsBalanceTest` - Тест баланса скобок**
   - Проверяет корректность баланса скобок в строках.

2. **`ValidIntersection1` - Тест корректного пересечения множеств без вложенных множеств и повторяющихся элементов**
   - Проверяет корректность вычисления пересечения множеств для простого варианта множеств.

3. **`ValidIntersection2` - Тест корректного пересечения множеств с вложенными множествами и повторяющимися элементами**
   - Проверяет корректность вычисления пересечения множеств с вложенными и повторяющимися элементами. Тест нужен для проверки: учитывается ли кратность вхождения элементов.

4. **`ValidIntersection3` - Тест корректного пересечения множеств с разными именами множеств**
   - Проверяет корректность вычисления пересечения множеств с разными именами. Проверка корректной обработки имен множеств.

5. **`ValidIntersection4` - Тест корректного пересечения множеств с множеством пустых скобок**
   - Проверяет корректность вычисления пересечения множеств, включая случай с пустыми скобками.

6. **`InvalidArgument1` - Тест с неверным (направленным) множеством**
   - Проверяет выбрасывание исключения при обработке направленного множества. Пересечение выполняется для неориентированных множеств.

7. **`InvalidArgument2` - Тест с неверным балансом скобок в множестве**
   - Проверяет выбрасывание исключения при неверном балансе скобок в строках.

8. **`InvalidArgument3` - Тест с неразрешенными символами в множестве**
   - Проверяет выбрасывание исключения при наличии неразрешенных символов в множестве.

9. **`InvalidArgument4` - Тест с неверным (не существующим) путем файла**
   - Проверяет выбрасывание исключения при попытке чтения из несуществующего файла.

## <p align="center">Вывод:</p>

В ходе лабораторной работы были улучшены навыки обработки множеств и вычисления их пересечений в C++. Освоены принципы взаимодействия с файлами, использования регулярных выражений и структур данных, таких как стеки, для обработки вложенных множеств.

Реализованы функции проверки сбалансированности скобок в множествах, чтения и обработки данных из файла, а также вычисления пересечений. Активно использовались стандартные контейнеры C++ для эффективной работы с данными.

Для обеспечения корректности работы программы были созданы модульные тесты с использованием Google Test. Эти тесты охватывают различные сценарии, включая проверку сбалансированности скобок и обработку различных ошибок.

Опыт работы с обработкой файлов, регулярными выражениями и структурами данных предоставил новые знания. Применение модульного тестирования подчеркнуло надежность и корректность реализации, предоставляя полезные инсайты в использование стандартных инструментов C++.

## <p align="center">Используемые источники:</p>
1. https://drive.google.com/drive/folders/1SLcF9njDTaNUacXMA9Nrqm7FUS7MnNsI (теория + задание)
2. https://www.youtube.com/watch?v=5mD-rhaYF4U&t=209s (создание библиотеки).
3. https://github.com/google/googletest (про Google test: установка, использование).
4. https://chat.openai.com (помощь в освоении материала)
