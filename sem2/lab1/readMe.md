# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ1
## –†–∞—Å—á—ë—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ üî¢

![|800](https://leetcode.com/articles/Figures/segtree_intro_3.png)
<em>–°—Ö–µ–º–∞—Ç–∏—á–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ $\textcolor{red}{\textit{–¥–µ—Ä–µ–≤–∞ –æ—Ç—Ä–µ–∑–∫–æ–≤}}$</em>

- `–¶–µ–ª—å` - –ø–æ–∏—Å–∫ –Ω–∞–∏–±–æ–ª—å—à–µ–≥–æ —á–∏—Å–ª–∞ / –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–∞—Å—Å–∏–≤–∞ –ø—Ä–∏ –ø–æ–º–æ—â–∏ $\textcolor{#e28679}{\textit{–¥–µ—Ä–µ–≤–∞ –º–∞–∫—Å–∏–º—É–º–æ–≤}}$
- `–ó–∞–¥–∞—á–∞` - —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º –¥–µ—Ä–µ–≤–∞ –º–∞–∫—Å–∏–º—É–º–æ–≤
- `–í–∞—Ä–∏–∞–Ω—Ç` - $\textcolor{grey}{\textit{11}}$

## –°–ø–∏—Å–æ–∫ –∫–ª—é—á–µ–≤—ã—Ö –ø–æ–Ω—è—Ç–∏–π (–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è) ‚ùì
- `–î–µ—Ä–µ–≤–æ –æ—Ç—Ä–µ–∑–∫–æ–≤` - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö, –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–º–∞—è –≤ –≤–∏–¥–µ –º–∞—Å—Å–∏–≤–∞ –∏ –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –Ω–∞—Ö–æ–¥–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ–∫–æ—Ç–æ—Ä–æ–π –∞—Å—Å–æ—Ü–∏–∞—Ç–∏–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏¬†_f_¬†–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–º –æ—Ç—Ä–µ–∑–∫–µ¬†–º–∞—Å—Å–∏–≤–∞ –∑–∞ –∞—Å–∏–º–ø—Ç–æ—Ç–∏–∫—É¬†_O(logN)_. –ù–∞–∏–±–æ–ª–µ–µ —á–∞—Å—Ç–æ –≤ –∫–∞—á–µ—Å—Ç–≤–µ¬†_f_ –±–µ—Ä—É—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–∏ <ins>—Å—É–º–º—ã</ins>, <ins>–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è</ins>, <ins>–º–∞–∫—Å–∏–º—É–º</ins> –∏ <ins>–º–∏–Ω–∏–º—É–º</ins>.

- `–î–µ—Ä–µ–≤–æ –º–∞–∫—Å–∏–º—É–º–æ–≤` - —ç—Ç–æ –¥–µ—Ä–µ–≤–æ –æ—Ç—Ä–µ–∑–∫–æ–≤, –≥–¥–µ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Å—Å–æ—Ü–∏–∞—Ç–∏–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ _f_ –±–µ—Ä—ë—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è <ins>–º–∏–Ω–∏–º—É–º</ins>, —Ç.–µ. —Ñ—É–Ω–∫—Ü–∏—è –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
## –ê–ª–≥–æ—Ä–∏—Ç–º
 –ü—É—Å—Ç—å —É –Ω–∞—Å –µ—Å—Ç—å 2 –∑–∞–¥–∞—á–∏: –∑–∞–º–µ–Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –Ω–∞ –¥—Ä—É–≥–æ–π –∏  –ø–æ–∏—Å–∫ –º–∞–∫—Å–∏–º—É–º–∞ –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ. –î–µ—Ä–µ–≤–æ –º–∞–∫—Å–∏–º—É–º–æ–≤ —Ä–µ—à–∞–µ—Ç —ç—Ç–∏ –∑–∞–¥–∞—á–∏ –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±–Ω–æ–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç, –∏ –¥–∞—Ç—å –æ—Ç–≤–µ—Ç –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω—É. –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –∑–∞ –ª–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–æ–µ –≤—Ä–µ–º—è O(logN), –∫—Ä–æ–º–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Å–∞–º–æ–≥–æ –¥–µ—Ä–µ–≤–∞: —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∏—Ç –¥–µ—Ä–µ–≤–æ (–ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤ –≤–∏–¥–µ –º–∞—Å—Å–∏–≤–∞) –∑–∞ –ª–∏–Ω–µ–π–Ω–æ–µ –≤—Ä–µ–º—è O(N). –ó–∞—Ç—Ä–∞—Ç—ã –ø–æ –ø–∞–º—è—Ç–∏ - 4N.
 
 –î–µ—Ä–µ–≤–æ –º–∞–∫—Å–∏–º—É–º–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å –º–∞—Å—Å–∏–≤–∞–º–∏, –¥–ª–∏–Ω–∞ –∫–æ—Ç–æ—Ä—ã—Ö —Ä–∞–≤–Ω–∞ —É–¥–≤–æ–µ–Ω–Ω–æ–π –¥–ª–∏–Ω–µ –Ω–∞—à–µ–≥–æ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞. –î–µ—Ä–µ–≤–æ –º–∞–∫—Å–∏–º—É–º–æ–≤ –±—É–¥–µ–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å –ø—Ä–æ—Å—Ç–æ –≤ –≤–∏–¥–µ –æ–±—ã—á–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞, –≥–¥–µ —Ä–æ–≤–Ω–æ –≤–æ –≤—Ç–æ—Ä–æ–π –ø–æ–ª–æ–≤–∏–Ω–µ —Ä–∞—Å–ø–æ–ª–∞–≥–∞—é—Ç—Å—è —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–∞—à–µ–≥–æ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞, –¥–æ –Ω–∏—Ö —Ä–∞—Å–ø–æ–ª–∞–≥–∞—é—Ç—Å—è —ç–ª–µ–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–≤–Ω—ã —Å—É–º–º–µ –¥–≤—É—Ö —Å–≤–æ–∏—Ö –¥–æ—á–µ—Ä–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏ —Ç–∞–∫ –¥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ —Å –∏–Ω–¥–µ–∫—Å–æ–º 1 (–æ–Ω —Ä–∞–≤–µ–Ω –º–∏–Ω–∏–º—É–º—É –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞). 
 
 –î–æ–ø—É—Å—Ç–∏–º, –Ω–∞—à –∏—Å—Ö–æ–¥–Ω—ã–π –º–∞—Å—Å–∏–≤ –±—É–¥–µ—Ç: [7, 3, 2, 4, 5, 6, 1, 0]
 –¢–æ–≥–¥–∞ –ø–æ–ª—É—á–∞–µ–º —Ç–∞–∫—É—é –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É:
 
![](https://habrastorage.org/r/w1560/getpro/habr/upload_files/4d2/7c8/cbf/4d27c8cbf6d5d0d7fb180874db0da576.jpg)

–ò–ª–∏ –∂–µ –≤ –≤–∏–¥–µ –æ–±—ã—á–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞: 

![](https://habrastorage.org/r/w1560/getpro/habr/upload_files/bda/48e/6ba/bda48e6ba9fc43455b6255bbadbcd9b6.jpg)

–ù—É–ª–µ–≤–æ–π —ç–ª–µ–º–µ–Ω—Ç –º—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º, –∞ –Ω–∞—á–∏–Ω–∞–µ–º —Å 1 –∏–Ω–¥–µ–∫—Å–∞, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ —É–¥–æ–±–Ω–æ –ø—Ä–∏ –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏ –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º –¥–µ—Ä–µ–≤–∞ –º–∞–∫—Å–∏–º—É–º–æ–≤. –ò —Ç–∞–∫: —á—Ç–æ–±—ã –ø–µ—Ä–µ–π—Ç–∏ –∏–∑ —Ä–æ–¥–∏—Ç–µ–ª—è –≤ –ª–µ–≤—ã–π –¥–æ—á–µ—Ä–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç, –Ω—É–∂–Ω–æ –∏–Ω–¥–µ–∫—Å —É–º–Ω–æ–∂–∞—Ç—å –Ω–∞ 2, –∞ —á—Ç–æ–±—ã –ø–µ—Ä–µ–π—Ç–∏ –≤ –ø—Ä–∞–≤—ã–π –¥–æ—á–µ—Ä–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç, –Ω—É–∂–Ω–æ –∏–Ω–¥–µ–∫—Å —É–º–Ω–æ–∂–∞—Ç—å –Ω–∞ 2 –∏ –¥–æ–±–∞–≤–ª—è—Ç—å 1, –∏–∑ —ç—Ç–æ–≥–æ —Ç–∞–∫–∂–µ —Å–ª–µ–¥—É–µ—Ç, —á—Ç–æ –≤—Å–µ –ª–µ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã (–Ω–µ —Å—á–∏—Ç–∞—è –≤–µ—Ä—à–∏–Ω—ã –¥–µ—Ä–µ–≤–∞) –∏–º–µ—é—Ç —á–µ—Ç–Ω—ã–π –∏–Ω–¥–µ–∫—Å, –∞ –≤—Å–µ –ø—Ä–∞–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã (–Ω–µ —Å—á–∏—Ç–∞—è –≤–µ—Ä—à–∏–Ω—ã –¥–µ—Ä–µ–≤–∞) –∏–º–µ—é—Ç –Ω–µ—á–µ—Ç–Ω—ã–π –∏–Ω–¥–µ–∫—Å. –ò –µ—â–µ, —á—Ç–æ–±—ã –ø–µ—Ä–µ–π—Ç–∏ –æ–±—Ä–∞—Ç–Ω–æ –∏–∑ –ª—é–±–æ–≥–æ –¥–æ—á–µ—Ä–Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ —Ä–æ–¥–∏—Ç–µ–ª—è, –Ω–∞–¥–æ —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ –¥–µ–ª–∏—Ç—å —Ç–µ–∫—É—â–∏–π –∏–Ω–¥–µ–∫—Å –Ω–∞ 2.

–Ø –±—É–¥—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ—Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±, —Ç.–∫. –æ–Ω –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–≥–æ –∏ —Ä–∞—Å—Ö–æ–¥—É–µ—Ç –º–µ–Ω—å—à–µ –ø–∞–º—è—Ç–∏

### –ù–µ—Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

#### –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ

–ú—ã –≤–Ω–∞—á–∞–ª–µ –∑–∞–ø–æ–ª–Ω—è–µ–º –ø—Ä–∞–≤—É—é —á–∞—Å—Ç—å –¥–µ—Ä–µ–≤–∞ –º–∞–∫—Å–∏–º—É–º–æ–≤, –∞ –∑–∞—Ç–µ–º –∏–¥–µ–º –≤ –æ–±—Ä–∞—Ç–Ω—É—é —Å—Ç–æ—Ä–æ–Ω—É –∏ –∑–∞–ø–æ–ª–Ω—è–µ–º –æ—Å—Ç–∞–≤—à–∏–µ—Å—è —ç–ª–µ–º–µ–Ω—Ç—ã, —É–º–Ω–æ–∂–∞—è –∏–ª–∏ –¥–µ–ª—è –Ω–∞—à–∏ –∏–Ω–¥–µ–∫—Å—ã –Ω–∞ 2.

``` C++
void build() {
	int n = arr.size();

	for (int i = 0; i < n; i++) tree[i + n] = arr[i];
	for (int i = n - 1; i > 0; i--) tree[i] = min(tree[i * 2], tree[i * 2 + 1]);
}
```

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞

–ú—ã —Ç–∞–∫ –∂–µ –æ–±–Ω–æ–≤–ª—è–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç, –∫–∞–∫ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª–∏ –¥–µ—Ä–µ–≤–æ –º–∞–∫—Å–∏–º—É–º–æ–≤, –∞ –¥–∞–ª–µ–µ –∏–¥–µ–º –ø–æ —ç–ª–µ–º–µ–Ω—Ç–∞–º, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –Ω–µ–≥–æ –∏ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º –∏—Ö:

``` c++
void update(int index, int value) {
	int n = arr.size();
	tree[index + n] = value;
	
	for (index += n; index > 1; index /= 2)
		tree[index / 2] = min(tree[index], tree[index ^ 1]);
}
```
–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–æ –ø–æ–¥–æ–π–¥—ë—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä `XOR ^ (–∏—Å–∫–ª—é—á–∞—é—â–µ–µ –∏–ª–∏)`, —Ç.–∫. –≤ —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ —É –Ω–∞—Å —ç–ª–µ–º–µ–Ω—Ç –Ω–µ—á—ë—Ç–Ω—ã–π, —Ç–æ –≤ –±–∏–Ω–∞—Ä–Ω–æ–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ —É –Ω–µ–≥–æ –≤ –Ω–∞—á–∞–ª–µ –±—É–¥–µ—Ç —Å—Ç–æ—è—Ç—å 1, –∞ —É –Ω–µ—á—ë—Ç–Ω–æ–≥–æ - 0

–ü—Ä–∏–º–µ—Ä: 3(10) = 1<ins>1</ins>(2)

–û–ø–µ—Ä–∞—Ç–æ—Ä `XOR ^ –∏—Å–∫–ª—é—á–∞—é—â–µ–µ –∏–ª–∏` —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ `|| –∏–ª–∏`, –æ–¥–Ω–∞–∫–æ –æ–Ω –∏—Å–∫–ª—é—á–∞–µ—Ç —Å–ª—É—á–∞–µ—Ç —Å–ª—É—á–∞–π, –∫–æ–≥–¥–∞ —É –æ–ø–µ—Ä–∞–Ω–¥–æ–≤ –≤ –±–∏–Ω–∞—Ä–Ω–æ–π –∑–∞–ø–∏—Å–∏ –Ω–∞ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –ø–æ–∑–∏—Ü–∏—è—Ö –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ —á–∏—Å–ª–æ

![](https://media.geeksforgeeks.org/wp-content/uploads/20200302135623/Untitled-Diagram561.jpg)

–°–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ —É –Ω–µ—á—ë—Ç–Ω–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞ —Å–ø—Ä–∞–≤–∞ —Å—Ç–æ–∏—Ç 1, –∏ –º—ã –µ—ë `XOR–∏–º` —Å 1 - —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –±—É–¥–µ—Ç —á–∏—Å–ª–æ, —É –∫–æ—Ç–æ—Ä–æ–≥–æ —Å–ø—Ä–∞–≤–∞ —Å—Ç–æ–∏—Ç 0, –∞ —ç—Ç–æ –Ω–∞—à–µ –ø—Ä–µ–¥—à–µ—Å—Ç–≤—É—é—â–∏–π –∏–Ω–¥–µ–∫—Å. –¢–æ –∂–µ —Å–∞–º–æ–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ–±—Ä–∞—Ç–Ω—É—é —Å—Ç–æ—Ä–æ–Ω—É: —Ç.–∫. —É —á—ë—Ç–Ω–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞ —Å–ø—Ä–∞–≤–∞ —Å—Ç–æ–∏—Ç 0 –∏ –º—ã –µ–≥–æ `XOR–∏–º` c 1, —Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –±—É–¥–µ—Ç —á–∏—Å–ª–æ, —É –∫–æ—Ç–æ—Ä–æ–≥–æ —Å–ø—Ä–∞–≤–∞ —Å—Ç–æ–∏—Ç 1, –∞ —ç—Ç–æ –Ω–∞—à–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–π –∏–Ω–¥–µ–∫—Å.

#### –ó–∞–ø—Ä–æ—Å –º–∞–∫—Å–∏–º—É–º–∞

–ò–¥–µ—è —Ç—É—Ç —Å–æ—Å—Ç–æ–∏—Ç –≤ —Ç–æ–º, —á—Ç–æ –µ—Å–ª–∏ –ø—Ä–∞–≤–∞—è –≥—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—à–µ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –ø—Ä–∞–≤–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É, —Ç–æ –º—ã –ø–æ–¥–Ω–∏–º–∞–µ–º—Å—è –≤–≤–µ—Ä—Ö –ø–æ –¥–µ—Ä–µ–≤—É, –Ω–µ —Å—Ä–∞–≤–Ω–∏–≤–∞—è –Ω–∞ –º–∞–∫—Å–∏–º—É–º –Ω–∞—à —Ç–µ–∫—É—â–∏–π —ç–ª–µ–º–µ–Ω—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ä–æ–¥–∏—Ç–µ–ª—å —ç—Ç–æ–≥–æ –ø—Ä–∞–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ —Ç–æ—á–Ω–æ —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞—à –¥–∏–∞–ø–∞–∑–æ–Ω. –¢–æ –∂–µ –º–æ–∂–Ω–æ —Å–∫–∞–∑–∞—Ç—å –∏ –ø—Ä–æ –ª–µ–≤—É—é –≥—Ä–∞–Ω–∏—Ü—É. –ï—Å–ª–∏ –Ω–∞—à–∞ –ª–µ–≤–∞—è –≥—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –ª–µ–≤–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É, —Ç–æ –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –≤ —Ä–æ–¥–∏—Ç–µ–ª—è. –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–æ –¥–µ–ª–∏—Ç—å –Ω–∞ –¥–≤–∞. –°–ª–µ–¥—É—é—â–∏–π —Å–ª—É—á–∞–π: –µ—Å–ª–∏ –Ω–∞—à–∞ –ø—Ä–∞–≤–∞—è –≥—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –∫ –ª–µ–≤–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É, —Ç–æ, –ª–æ–≥–∏—á–Ω–æ, –Ω–∞—à —Ä–æ–¥–∏—Ç–µ–ª—å —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–∏—à–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç. –ù–∞–º –ª–∏—à—å –æ—Å—Ç–∞–µ—Ç—Å—è —Å—Ä–∞–≤–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–π —ç–ª–µ–º–µ–Ω—Ç —Å –Ω–∞—à–∏–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º —á–∏—Å–ª–æ–º –∏ –ø–µ—Ä–µ–π—Ç–∏ –±–ª–∏–∂–µ –∫ –ª–µ–≤–æ–π –≥—Ä–∞–Ω–∏—Ü–µ –ø—É—Ç–µ–º –≤—ã—á–∏—Ç–∞–Ω–∏—è 1 –∏–∑ —Ç–µ–∫—É—â–µ–≥–æ –∏–Ω–¥–µ–∫—Å–∞ (–º—ã –ø–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç –≤–ª–µ–≤–æ, —á—Ç–æ–±—ã –ø–æ–º–µ–Ω—è—Ç—å —Ä–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç, –≤–µ–¥—å —Ä–æ–¥–∏—Ç–µ–ª—å –ª–µ–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å, –∫–∞–∫ —Ä–∞–∑, —á–∞—Å—Ç—å –∏–ª–∏ –≤–µ—Å—å –¥–∏–∞–ø–∞–∑–æ–Ω, –∫–æ—Ç–æ—Ä—ã–π –º—ã –∏—â–µ–º). –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –∏ —Å –ª–µ–≤–æ–π –≥—Ä–∞–Ω–∏—Ü–µ–π: –µ—Å–ª–∏ –æ–Ω–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –∫ –ø—Ä–∞–≤–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É, —Ç–æ –µ–≥–æ —Ä–æ–¥–∏—Ç–µ–ª—å –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ª–∏—à–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç, —Ç–æ–≥–¥–∞ –º—ã —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Ç–µ–∫—É—â–∏–π —ç–ª–µ–º–µ–Ω—Ç –Ω–∞–∏–±–æ–ª—å—à–∏–º –∏ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ —Å–æ—Å–µ–¥–Ω–∏–π –ø—Ä–∞–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç (–ø—É—Ç–µ–º –ø—Ä–∏–±–∞–≤–ª–µ–Ω–∏—è 1 –∫ –∏–Ω–¥–µ–∫—Å—É), —Ç–∞–∫ –∫–∞–∫ —Ä–æ–¥–∏—Ç–µ–ª—å —Å–æ—Å–µ–¥–Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ —Ç–æ—á–Ω–æ —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–∏–±–æ —Ü–µ–ª—ã–π, –ª–∏–±–æ —á–∞—Å—Ç—å –æ—Å—Ç–∞–≤—à–µ–≥–æ—Å—è –¥–∏–∞–ø–∞–∑–æ–Ω–∞.

–ù–∞ –≤—Ö–æ–¥ —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–∏–∞–ø–∞–∑–æ–Ω –∑–∞–ø—Ä–æ—Å–∞ –∏ —Ä–∞–∑–º–µ—Ä –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞. –¢–∞–∫ –∫–∞–∫ –º—ã —Ä–∞–±–æ—Ç–∞–µ–º —Å –¥–µ—Ä–µ–≤–æ–º –º–∞–∫—Å–∏–º—É–º–æ–≤, –∞ –Ω–µ —Å –∏—Å—Ö–æ–¥–Ω—ã–º –º–∞—Å—Å–∏–≤–æ–º, —Ç–æ, —á—Ç–æ–±—ã –ø–µ—Ä–µ–π—Ç–∏ –≤ –ª–∏—Å—Ç—å—è –¥–µ—Ä–µ–≤–∞, –º—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–∏–±–∞–≤–∏—Ç—å –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –∏–Ω–¥–µ–∫—Å–∞–º –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞ n (right_input +=n –∏ left_input += n). –í—Å–µ, —á—Ç–æ —è –æ–ø–∏—Å–∞–ª –∞–±–∑–∞—Ü–µ–º –≤—ã—à–µ, –ø–æ–º–µ—Å—Ç–∏–º –≤ —Ü–∏–∫–ª while (left_input <= right_input) - —ç—Ç–æ –±—É–¥–µ—Ç –Ω–∞—à–µ —É—Å–ª–æ–≤–∏–µ –≤—ã—Ö–æ–¥–∞. –ù–∞ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –±—É–¥–µ–º –ª–∏–±–æ –ø—Ä–∏–±–∞–≤–ª—è—Ç—å —Ç–µ–∫—É—â–∏–π —ç–ª–µ–º–µ–Ω—Ç, –ª–∏–±–æ –Ω–µ—Ç, –∞ –≤ –∫–æ–Ω—Ü–µ –≤—Å–µ–≥–¥–∞ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –≤ —Ä–æ–¥–∏—Ç–µ–ª—è.

![](https://habrastorage.org/r/w1560/getpro/habr/upload_files/4f8/2f3/2c9/4f82f32c9411db4c0004e6ef5ba9f780.jpg)

![](https://habrastorage.org/r/w1560/getpro/habr/upload_files/88c/b21/d90/88cb21d900e0c2c46584b9d52ab66d14.jpg)

![](https://habrastorage.org/r/w1560/getpro/habr/upload_files/906/5d0/186/9065d01862cc5d53bef3005887cc11ae.jpg)

``` c++
int smallest_on_range(int left_input, int right_input){
	int n = arr.size();

	int left = left_input + n;
	int right = right_input + n;

	int res = tree[right];

	while (left <= right) {
		cout << "left index = " << left << ", value = " << tree[left] << '\n';
		cout << "right index = " << right << ", value = " << tree[right] << '\n';

		if (left % 2 == 1) res = min(res, tree[left++]);
		if (right % 2 == 0) res = min(res, tree[right--]);

		left /= 2; 
		right /= 2;
	}
	return res;
}
```

## –ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞
–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã, –ø–µ—Ä–≤—ã–º –¥–µ–ª–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ø—Ä–æ—Å–∏—Ç –Ω–∞—Å –Ω–∞–ø–∏—Å–∞—Ç—å –∞–±—Å–æ–ª—é—Ç–Ω—ã–π/–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É. –î–∞–≤–∞–π—Ç–µ –≤–≤–µ–¥—ë–º —Ç–µ—Å—Ç–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä

![](./screenshots/1.png)

–ó–∞—Ç–µ–º –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞–º –∏—Å—Ö–æ–¥–Ω—ã–π –º–∞—Å—Å–∏–≤ –∏ —Ç–æ –¥–µ—Ä–µ–≤–æ –º–∞–∫—Å–∏–º—É–º–æ–≤, –∫–æ—Ç–æ—Ä–æ–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª–æ—Å—å –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º. –¢–∞–∫–∂–µ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –Ω–∞–º —É–∫–∞–∑–∞—Ç—å –∏–Ω–¥–µ–∫—Å —ç–ª–µ–º–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–¥–æ –ø–æ–º–µ–Ω—è—Ç—å –∏ –∑–Ω–∞—á–µ–Ω–∏–µ, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–µ –Ω–∞–¥–æ –ø–æ–º–µ–Ω—è—Ç—å –Ω–∞—à–µ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

![](./screenshots/2.png)

–ó–∞—Ç–µ–º –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –Ω–∞–º —É–∫–∞–∑–∞—Ç—å –¥–∏–∞–ø–∞–∑–æ–Ω, –≥–¥–µ –Ω–∞–¥–æ –Ω–∞–π—Ç–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç

![](./screenshots/3.png)
 
 –ó–∞—Ç–µ–º –≤—ã–≤–æ–¥–∏—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ä–∞–±–æ—Ç—É
 
![](./screenshots/4.png)
## –í—ã–≤–æ–¥
 –†–µ–∞–ª–∏–∑–æ–≤–∞–ª —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö `–¥–µ—Ä–µ–≤–æ –æ—Ç—Ä–µ–∑–∫–æ–≤`, –∞ –≤ —á–∞—Å—Ç–Ω–æ—Å—Ç–∏ `–¥–µ—Ä–µ–≤–æ –º–∞–∫—Å–∏–º—É–º–æ–≤`
## –ò—Å—Ç–æ—á–Ω–∏–∫–∏

 - [–í–ª–∞–¥–∏–º–∏—Ä –ë–∞–ª—É–Ω | –î–µ—Ä–µ–≤–æ –æ—Ç—Ä–µ–∑–∫–æ–≤](https://youtu.be/LEkEPE_BKQY?si=3GBrjW2oWmSXc9qR)
	 ![|100](https://youtu.be/LEkEPE_BKQY?si=3GBrjW2oWmSXc9qR)