# <p align="center">Лабораторная работа №1</p>

Вариант 14. Дерево Фенвика. Поиск суммы чисел на отрезке массива. Обновление числа в массиве.

## <p align="center">Цели лабораторной работы:</p>
1. Разработать библиотеку для работы со деревом Фенвика на любом императивнойм языкепрограммирования (Pascal, C\C++, Java, C#, Python и др.)
2. Разработать тестовую программу, которая демонстрирует работоспособность реализованной библиотеки.
3. Разработать систему тестов, которые продемонстрировали быработоспособность реализованной библиотеки. Система тестов должна отвечать требованиям полноты, адекватности и непротиворечивости.
4. По результатам выполнения задания составить отчет.

## <p align="center">Задачи лабораторной работы:</p>
1. Изучить спецификацию задачи по работе с деревом Фенвика.
2. Выбрать язык программирования для реализации библиотеки (например, C++, Java, Python) в соответствии с индивидуальным заданием.
3. Разработать и реализовать библиотеку для работы с деревом Фенвика, включая операции поиска суммы чисел на отрезке массива и обновления числа в массиве.
4. Написать тестовую программу, которая демонстрирует основные сценарии использования библиотеки.
5. Разработать систему тестов, включающую тест-кейсы для проверки различных аспектов работы библиотеки, включая корректность, производительность и обработку ошибок.
6. Провести тестирование разработанной библиотеки, убедившись в ее правильной работе на различных входных данных.
7. Составить подробный отчет, включая описание решения задачи, архитектуры библиотеки, результаты тестирования и выводы.

## <p align="center">Список используемых понятий и алгоритмов:</p>
1. **Библиотека программного обеспечения (Библиотека кода):**
В программировании библиотека представляет собой совокупность программного кода, предназначенного для решения определенных задач. Этот код может содержать функции, классы, процедуры или другие компоненты, которые разработчики могут повторно использовать в своих программных проектах. Библиотеки упрощают разработку, так как они предоставляют готовые решения для типовых задач.

2. **Дерево Фенвика:**

![image](https://github.com/iis-32170x/RPIIS/assets/147264756/03817e62-7018-4999-a7fe-a42034753ff7)

  Дерево Фенвика (двоичное индексированное дерево, англ. Fenwick tree, binary indexed tree, BIT) — структура данных, позволяющая быстро изменять значения в массиве и находить некоторые функции от элементов массива.

4. **Операции поиска суммы чисел на отрезке массива и обновления числа в массиве:**
   - **Поиск суммы чисел на отрезке:** Операция подсчета суммы элементов на определенном диапазоне.
   - **Обновления числа в массиве:** Операция изменения значения элемента массива.

## <p align="center">Описание используемых алгоритмов:</p>
1. **Дерево Фенвика:**
   В своей библиотеке я реализовывала дерево Фенвика, используя `vector<int> tree`для хранения данный, далее используя для его заполнения фунцкцию
```cpp
    void FenwickTree:: update(int idx, int value)         
    {
        while (idx < tree.size())
        {
            tree[idx] += value;
            idx += idx & -idx;
        }
    }
```
   и далее заполняя его через цикл
```cpp
 for (int i = 0; i < arr.size(); ++i) {      
     ft.update(i + 1, arr[i]);
 }
```
2. **Алгоритм для работы с деревом Фенвика**
   
   1. **Инициализация:**
     - Создаем `vector<int> tree` размером n+1
        
  2. **Обновление числа:**
     - Увеличиваем значение в позиции idx на value.
     - Обновляем значение в следующем узле, который можно получить путем добавления младшего бита к i.
     - Повторяем этот шаг до тех пор, пока не достигнем конца массива
     - перенос изменения значения на массив.

  3. **Сумма префикса:**
     - Инициализируем сумму result = 0.
     - Проходим по дереву от i до 0, вычитая из result значения в узлах дерева.
     - Возвращаем result.

  4. **Сумма на отрезке:**
     - Вычисляем сумму префикса для r и l-1.
     - Вычитаем сумму префикса для l-1 из суммы префикса для r.
     - Полученное значение будет суммой на отрезке [l, r].

## <p align="center">Тестирование:</p>
Входные данные:
```
Size: 10
Array: 43 65 23 54 28 535 34 65 23 54
Range: 2 7
Index: 4
Value: -100
```
Выходные данные:
```
Sum: 739
Changed array: 43 65 23 -46 28 535 34 65 23 54
```
Остальные тестовые программы расположены в директории `/tests`.

## <p align="center">Вывод:</p>
В рамках данной лабораторной работы были изучены способы взаимодействия со структурой данных дерево Фенвика. Была реализована библиотека для работы с деревом Фенвика, а именно: обновление числа в массиве и поиск суммы чисел на отрезке массива.

## <p align="center">Используемые источники:</p>
1.https://goo.su/S1UIC
2.https://youtu.be/muW1tOyqUZ4?si=m_kQEUlLwyLNzN95
