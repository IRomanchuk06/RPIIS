# Расчетная работа по ПиОИвИС
# Цель работы:
Формализовать понятия, используемые в работе, а также формализовать алгоритм выполнения работы при помощи SCg-кода.
# Задачи:
- дать определения понятиям, использумых в работе, на естественном языке, а также определить их тип(абсолютное или относительное);  
- формализовать понятия при помощи SCg-кода;  
- погрузить формализованные понятия в базу знаний интеллектуальной системы на основе Технологии OSTIS;
- продемонстрировать тестовые примеры в виде перечня входных-выходных конструкций;
- при помощи SCg-кода показать алгоритм выполнения работы в sc-памяти.
# Задание(вариант 5.17):
Найти циклы указанной длины в взвешенном неориентированном графе.
# Список понятий:
- неориентированный граф(абсолютное понятие) - граф, в котором все связки являются ребрами:  
![](photos/unoriented_graph.png)
- взвешенный граф(абсолютное понятие) - граф, каждому ребру которого поставлено в соответствие некое значение (вес ребра):
![](photos/weighted_graph.png)
- маршрут в графе(относительное понятие) - чередующаяся последовательность вершин и рёбер, в которой любые два соседних элемента инцидентны:
![](photos/route.png)
- цепь в графе(относительное понятие) — маршрут, все рёбра которого различны:
![](photos/chain.png)  
- цикл в графе(относительное понятие) - замкнутая цепь:  
![](photos/cycle.png)  
# Тестовые примеры:  
1) **Вход:** необходимо найти циклы длины 5.  
![](photos/test1.png)  
**Выход:** циклов длины 5 нет.  
2) **Вход:** необходимо найти циклы длины 7.  
![](photos/test2.png)  
**Выход:** циклов длины 7 нет.  
3) **Вход:** необходимо найти циклы длины 10.  
![](photos/test3.png)  
**Выход:** циклов длины 10 нет.  
4) **Вход:** необходимо найти циклы длины 9.  
![](photos/test4_input.png)  
**Выход:** будут найдены все циклы длины 9:  
- 1->2->3->1  
![](photos/test4_output1.png)
- 1->3->2->1  
![](photos/test4_output2.png)
- 2->1->3->2  
![](photos/test4_output3.png)
- 2->3->1->2  
![](photos/test4_output4.png)
- 3->1->2->3  
![](photos/test4_output5.png)  
- 3->2->1->3  
![](photos/test4_output6.png)  
5) **Вход:** необходимо найти циклы длины 9.
![](photos/test5_input.png)  
**Выход:** будут найдены все циклы длины 9:  
- 1->2->3->1  
![](photos/test5_output1.png)  
- 1->3->2->1  
![](photos/test5_output2.png)  
- 2->1->3->2  
![](photos/test5_output3.png)  
- 2->3->1->2  
![](photos/test5_output4.png)  
- 3->1->2->3  
![](photos/test5_output5.png)  
- 3->2->1->3  
![](photos/test5_output6.png)
# Алгоритм выполнения работы на ественном языке:
Суть алгоритма: сначала находятся все циклы графа, а после этого среди них выбираются только подходящие - с определенной длиной, указаной пользователем.  В рамках этого алгоритма волной называется множество вершин, каждая из которых является в обрабатываемом графе смежной хотя бы одной вершине из предыдущей волны. Волна, для которой нет предыдущей волны, называется начальной и состоит из вершины, от которой начинается поиск минимального пути. Волна, включающая конечную вершину пути, называется конечной.  
1) Добавить все вершины графа во множество непроверенных вершин.  
2) Создать новую волну и добавить в нее вершину, из которой начинается цикл.  
3) Начальная волна – это новая волна. Новой волной будем называть последнюю созданную волну.  
4) Сформировать следующую волну для новой волны. В нее попадет та вершина, которая является смежной вершине из новой волны и присутствует во множестве непроверенных вершин. Если вершина попала в формируемую волну, то ее надо исключить из множества непроверенных вершин. Созданную волну установить как следующую для новой волны, и после этого созданную волну считать новой волной.  
5) Если новая волна пуста, то цикла, начинающегося с этой вершины, не существует. Завершить алгоритм.  
6) Если в текущей волне есть вершина, с которой начинается цикл, то перейти к пункту 7, иначе к пункту 4.  
7) Сформировать один из циклов, начинающийся с определенной вершины, проходя в обратном порядке по списку волн.
8) Проверить длину полученного цикла: если она равна указанной, оставляем его; в противном случае удаляем его.  
9) Повторить пункты 1-8 для нахождения всех циклов указанной длины, начинающихся с определенной вершины.  
10) Повторить пункты 1-9 для нахождения всех циклов указанной длины, начинающихся с других вершин.
# Алгоритм выполнения работы в sc-памяти:
Для примера рассмотрим граф с 4 вершинами, в котором найдем все циклы длины 9.  
**1) Задаем входной граф и вершину, из которой ищется цикл(она является начальной и конечной вершиной цикла)**  
![](photos/alg1.png)  
**2) Создаем множество непроверенных вершин(помещаем в него все вершины графа)**  
![](photos/alg2.png)  
**3) Создаем волну, включающую вершину 1**  
![](photos/alg3.png)  
**4) Создаем волну, включающую вершины 2,3,4, исключая их из множества непосещенных вершин**  
![](photos/alg4.png)  
**5) Создаем волну, включающую вершину 1, исключая ее из множества непосещенных вершин**  
![](photos/alg5.png)  
**6) Удаляем множество непроверенных вершин**  
![](photos/alg6.png)  
**7) Создаем связку отношения цикл***  
![](photos/alg7.png)  
**8) Добавляем в структуру цикла вершину 1**  
![](photos/alg8.png)  
**9) Устанавливаем переменные 1-ой итерации цикла генерации структуры цикла**  
![](photos/alg9.png)  
**10) Создаем посещение вершины на 1-ой итерации цикла генерации структуры цикла**  
![](photos/alg10.png)  
**11) Создаем посещение вершины на 1-ой итерации цикла генерации структуры цикла**  
![](photos/alg11.png)  
**12) Переходим ко 2-ой итерации цикла генерации структуры цикла**  
![](photos/alg12.png)  
**13) Создаем посещение вершины на 2-ой итерации цикла генерации структуры цикла**  
![](photos/alg13.png)  
**14) Находим длину полученного цикла: она равна 9(сумма весов ребер, принадлежащих циклу: 2+2+5=9). Оставляем даный цикл**  
**13) Аналогичным образом находим остальные циклы длины 9, начинающиеся с вершины 1(пункты 7-14)**  
**14) Удаляем список волн**  
![](photos/alg14.png)  
**15) Аналогичным образом находим все циклы длины 9, начинающиеся с вершин 2,3 и 4(пункты 1-14). Получили:**  
- 1->2->3->1  
![](photos/test5_output1.png)  
- 1->3->2->1  
![](photos/test5_output2.png)  
- 2->1->3->2  
![](photos/test5_output3.png)  
- 2->3->1->2  
![](photos/test5_output4.png)  
- 3->1->2->3  
![](photos/test5_output5.png)  
- 3->2->1->3  
![](photos/test5_output6.png)
# Вывод:
В результате работы при помощи SCg-кода были формализованы понятия, используемые в расчетной работе, а также алгоритм выполнения задания.
# Список использованных источников:  
1) Руководство к выполнению расчетной работы по курсам ОИИ и ППвИС(Д.А. Лазуркин)
2) Глоссарий теории графов - Википедия
