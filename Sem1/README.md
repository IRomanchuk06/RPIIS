# Лабораторная работа №2
## Условие первой лабораторной работы (Вариант 3)
Создать файл sh и bat, который выполняет следующее:
На вход пакетному файлу приходит путь к папке (как параметр пакетного файла). Посчитать количество файлов в заданной папке. Записать информацию о включенных процессах в log.txt. Умножить значение количества файлов на число символов в файле log.txt. Записать результат в отдельный файл, название которого – текущая дата.
___
##  *Алгорит выполнения bat файла*
```
@echo off
chcp 65001
:A
echo Vvedi papky
set /p a="" 
if not exist %a% echo Takoi papki net & goto A
dir /a: /b /s "%a%" | find /c ":\"
Set sum=0
Set papka=%a% 
For /r "%papka%" %%i In (*) Do Set /a sum+=1
tasklist >>  C:\log.txt
set  "file=C:\Log.txt"
for %%i in (%file%) do @set count=%%~zi
for /F "usebackq tokens=3 delims=:" %%L in (`find /v /c "" %file%`) do set lines=%%L
set /a "res=%sum%*(%count%-(%lines%-1)*2)"
echo %res% >> C:\%date%.txt
pause
```
1. Отключаем вывод команд на экран.
2. Подключаем другую кодировку.
3. Сообщение о вводе пути к папке.
4. Получаем папку.
5. проверяем существует ли она. Если нет, то просим ввести другую.
6. Считаем количество файлов и выводим.
7. Создаем переменную `sum` и присваиваем ей `0`.
8. Создаем переменную `a` и присваиваем ей значения пути к папке.
9. Считаем количество файлов в папке и записываем в переменную `sum`.
10. Создаем файл `log.txt` и выволим список задач в него.
11. Считаем размер файла и присваиваем полученное значение переменной.
12. Считаем количество строк в файле и записываем значение в переменную `lines`.
13. Создаем переменную `res` и считаем количсетво символов в файле `log.txt`, попутно записывая в переменную.
14. Выводим переменную в файл, название которого - текущая дата.
    
## Результат выполнения
![Img1](https://github.com/iis-32170x/RPIIS/blob/Войшнис_Г/Images/a1.png)
___
![Img2](https://github.com/iis-32170x/RPIIS/blob/Войшнис_Г/Images/a2.png)
___
![Img3](https://github.com/iis-32170x/RPIIS/blob/Войшнис_Г/Images/a3.png)
___
![Img4](https://github.com/iis-32170x/RPIIS/blob/Войшнис_Г/Images/a4.png)
___

##  *Алгоритм выполнения sh файла*
```
echo привет
echo -e "\n введите путь к папке:"
read path_to
while [ ! -d "$path_to" ]; do
  echo "Папка $path_to не существует."
  echo  " введите другой путь к папке:"
  read path_to
done
echo -e "\n Количество файлов в папке"
ls  $path_to  | wc -l
VAR1=$(ls  $path_to  | wc -l)
touch C:\\Users\\Глеб\\log.txt
tasklist.exe > C:\\Users\\Глеб\\log.txt 
VAR2=$(wc -c < C:\\Users\\Глеб\\log.txt)
VAR3=$(wc -l < C:\\Users\\Глеб\\log.txt)
touch C:\\"$(date +%F)".txt
let "A = $VAR1 * ($VAR2 - ($VAR3 * 2))"
echo $A > C:\\"$(date +%F)".txt
read -p "Press enter to continue"
```
1. Просим пользователя ввести путь к папке.
2. Считываем путь и придаем ему значение переменной `path_to`.
3. Проверяем существует ли папка.
4. Считаем количество файлов в папке и выводим значение.
5. Создаем переменную `var1` и придаем ей значение количества файлов.
6. Создаем файл `log.txt` и выводим туда список задач.
7. Считаем размер файла и записываем значение в переменную `var2`.
8. Считаем количество строк файла и записываем значение в переменную `var3`.
9. Создаем папку, и называем ее текущей датой.
10. Создаем переменную `A` записываем результат в нее и выводим в папку, которую мы создали ранее.
    
![Img1](https://github.com/iis-32170x/RPIIS/blob/Войшнис_Г/Images/b1.png)
![Img1](https://github.com/iis-32170x/RPIIS/blob/Войшнис_Г/Images/b2.png)

- [X] # Вывод

В ходе выполнения данной лабораторной работы были приобретены навыки базовой работы с командной строкой, написанием скриптов на batch и bash, а так же работой с системой контроля версий git и веб-сервис для хостинга IT-проектов github.
___
[Для вопросов и претензий](https://www.youtube.com/watch?v=HEXWRTEbj1I)
