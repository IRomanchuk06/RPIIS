# Условие (14 вариант)

В рамках ЛР 1 необходимо создать исполняемый файл .sh и .bat, который выполняет следующее условие:

![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9C%D0%BE%D1%82%D0%BE%D0%BB%D1%8F%D0%BD%D0%B5%D1%86_%D0%9A/images/task.png)
    
# Реализация на bash

![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9C%D0%BE%D1%82%D0%BE%D0%BB%D1%8F%D0%BD%D0%B5%D1%86_%D0%9A/images/bash.png)

## Переменные

- $file_name - хранит имя самого маленького файла в первой папке
- $file_size - хранит размер самого маленького файла в первой папке
- $files[] - список хранящий имена всех файлов со второй папки
- $sizes[] - список хранящий размеры всех файлов со второй папки

## как работает

- на вход (как параметры пакетного файла) подаются две папки
- с помощью функции find, в первой папке находится имя файла с минимальным размером, и записывается в переменную $file_name
- с помощью функции stat, в переменную $file_size записывается размер этого файла
- с помощью нескольких циклов, похожим образом перебираются и записываются имена и размеры файлов со второй папки
- затем идёт сравнение размеров минимального файла с первой папки и каждого файла второй, результат сравнения записывается в файл result.txt
- в конце минимальный файл с первой папки перемещается во вторую

## примеры запуска

Создадим две папки dir1 и dir2 и закинем в них несколько файлов разных размеров.

![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9C%D0%BE%D1%82%D0%BE%D0%BB%D1%8F%D0%BD%D0%B5%D1%86_%D0%9A/images/files1.png)

Запустим скрипт подав на вход две созданные папки.

Для проверки правильности работоспособности этот скрипт при запуске в выводит имя и размер минимального файла первой папки, а также информацию о файлах второй папки. 

![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9C%D0%BE%D1%82%D0%BE%D0%BB%D1%8F%D0%BD%D0%B5%D1%86_%D0%9A/images/stat_bash_1.png)

После запуска скрипта, можно заметить, что файл с минимальным размером - f2 переместился во вторую папку.

![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9C%D0%BE%D1%82%D0%BE%D0%BB%D1%8F%D0%BD%D0%B5%D1%86_%D0%9A/images/files2.png)

Так же видно, что размеры файлов сравнились корректно.

![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9C%D0%BE%D1%82%D0%BE%D0%BB%D1%8F%D0%BD%D0%B5%D1%86_%D0%9A/images/result1.png)

# Реализация на batch

![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9C%D0%BE%D1%82%D0%BE%D0%BB%D1%8F%D0%BD%D0%B5%D1%86_%D0%9A/images/bat.png)

## Переменные 

- %minFile% хранит имя минимального файла с первой папки
- %minSize% хранит размер минимального файла с первой папки
- %folder1% и %folder2% хранят путь к первой и второй папке

## как работает

- на вход (как параметры пакетного файла) подаются две папки
- с помощью цикла идёт поочерёдный перебор всех файлов первой папки и сравнение с минимальным, уже найденным файлом, если новый файл меньше, то его параметры записываются в переменные %minFile% и %minSize%
- с помощью цикла идёт поочерёдный перебор всех файлов второй папки и сравнение с минимальным файлом первой, результат сравнения записывается в result.txt
- в конце минимальный файл с первой папки перемещается во вторую

## примеры запуска

Создадим две папки dir1 и dir2 и закинем в них несколько файлов разных размеров (файлы созданные для .bat файла такие же, что и для .sh файла, а значит содержимое result.txt в обоих случаях будет совпадать).

![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9C%D0%BE%D1%82%D0%BE%D0%BB%D1%8F%D0%BD%D0%B5%D1%86_%D0%9A/images/files3.png)

Запустим скрипт подав на вход две созданные папки.

Для проверки правильности работоспособности этот скрипт при запуске выводит имя и размер минимального файла первой папки, а также информацию о файлах второй папки. 

![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9C%D0%BE%D1%82%D0%BE%D0%BB%D1%8F%D0%BD%D0%B5%D1%86_%D0%9A/images/stat_bat_1.png)

После запуска скрипта, можно заметить, что файл с минимальным размером - f2 переместился во вторую папку.

![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9C%D0%BE%D1%82%D0%BE%D0%BB%D1%8F%D0%BD%D0%B5%D1%86_%D0%9A/images/files4.png)

Так же видно, что размеры файлов сравнились корректно.

![image](https://github.com/iis-32170x/RPIIS/blob/%D0%9C%D0%BE%D1%82%D0%BE%D0%BB%D1%8F%D0%BD%D0%B5%D1%86_%D0%9A/images/result2.png)

# Вывод

В ходе выполнения данной лабораторной работы были приобретены навыки базовой работы с командной строкой, написанием скриптов на batch и bash, а так же работой с системой контроля версий git и веб-сервис для хостинга IT-проектов github.
